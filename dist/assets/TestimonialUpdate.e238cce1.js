import{G as _,aI as j,h as y,r as u,o as s,an as J,j as a,ao as O,af as P,ap as R,ah as U,a8 as t,aa as o,k as m,a1 as f,al as A}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as E,C as c}from"./index.esm.88676979.js";import{b as V}from"./App.13c64db0.js";import{g as $,u as G}from"./TestimonialActionCreators.0df4b7d4.js";import{g as H}from"./CourseActionCreators.1947fb33.js";let X=()=>{let p=V(),b=_(),{_id:g}=j(),N=y(e=>e.CourseStateData),[l,h]=u.exports.useState({name:"",phone:"",email:"",course:"",profile:"",city:"",country:"",message:"",type:"",image:"",status:"",remark:""}),v=y(e=>e.TestimonialStateData),[n,C]=u.exports.useState(""),[I,S]=u.exports.useState(""),{reset:L,handleSubmit:x,control:i}=E({defaultValues:l});function k(e){S(e.target.files[0])}let w=()=>{if(C(l),l.name){var e=new FormData,e=new FormData;e.append("name",l.name),e.append("email",l.email),e.append("phone",l.phone),e.append("course",l.course),e.append("profile",l.profile),e.append("city",l.city),e.append("country",l.country),e.append("message",l.message),e.append("type",l.type),e.append("image",I),e.append("remark",l.remark),e.append("status",l.status),e.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),e.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),e.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),p(G({data:e,_id:g})),A(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Testimonial is Updated!!!"})})})),b("/apps/testimonials")}},T=()=>{h({name:"",phone:"",email:"",course:"",profile:"",city:"",country:"",message:"",type:"",image:"",status:"",remark:""})};function r(e){let d=e.target.name,B=e.target.value;h(F=>({...F,[d]:B}))}return u.exports.useEffect(()=>{p($());let e=v.find(d=>d._id===g);e&&h({...e}),p(H())},[v.length,N.length]),s(J,{children:[a(O,{children:a(P,{tag:"h4",className:"text-center",children:"Update Testimonial"})}),a(R,{children:s(U,{onSubmit:x(w),children:[s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"name",children:"Name"}),a(c,{control:i,id:"name",name:"name",render:({field:e})=>a(o,{...e,onChange:r,value:l.name,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.name===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"phone",children:"Phone"}),a(c,{control:i,id:"phone",name:"phone",render:({field:e})=>a(o,{...e,onChange:r,value:l.phone,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.phone===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"email",children:"Email"}),a(c,{control:i,id:"email",name:"email",render:({field:e})=>a(o,{...e,onChange:r,value:l.email,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.email===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"profile",children:"Profile"}),a(c,{control:i,id:"profile",name:"profile",render:({field:e})=>a(o,{...e,onChange:r,value:l.profile,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.profile===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"city",children:"City"}),a(c,{control:i,id:"city",name:"city",render:({field:e})=>a(o,{...e,onChange:r,value:l.city,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.city===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"country",children:"Country"}),a(c,{control:i,id:"country",name:"country",render:({field:e})=>a(o,{...e,onChange:r,value:l.country,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.country===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"type",children:"Type"}),a(c,{control:i,id:"type",name:"type",render:({field:e})=>a(o,{...e,onChange:r,value:l.type,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.type===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"message",children:"Message"}),a(c,{control:i,id:"message",name:"message",render:({field:e})=>a(o,{...e,type:"textarea",onChange:r,value:l.message,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.message===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"image",children:"Image"}),a("input",{type:"file",name:"image",id:"image",onChange:k,className:"form-control"})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"course",children:"Course"}),a("select",{name:"course",onChange:r,value:l.course,className:"form-control",children:N.map((e,d)=>a("option",{value:e.title,children:e.title},d))})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"remark",children:"remark"}),a(c,{control:i,id:"remark",name:"remark",render:({field:e})=>a(o,{...e,onChange:r,value:l.remark,options:{allowInput:!0},className:m("form-control",{"is-invalid":n!==null&&n.remark===null})})})]}),s("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"status",children:"Status"}),s("select",{name:"status",onChange:r,value:l.status,className:"form-control",children:[a("option",{value:"Active",children:"Active"}),a("option",{value:"Inactive",children:"Inactive"})]})]}),s("div",{className:"d-flex",children:[a(f,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(f,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:T,children:"Reset"}),a(f,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{X as default};
