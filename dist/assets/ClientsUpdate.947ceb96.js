import{G as F,r as m,aI as R,h as _,o as s,an as j,j as e,ao as J,af as U,ap as A,ah as V,a8 as n,aa as d,k as c,a1 as p,al as $}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as E,C as u}from"./index.esm.88676979.js";import{b as G}from"./App.13c64db0.js";import{g as H,u as L}from"./ClientsActionCreators.7f9bad31.js";let K=()=>{let h=G(),N=F(),[C,b]=m.exports.useState(""),{_id:g}=R(),[l,f]=m.exports.useState({remark:"",status:"",name:"",description:"",sort:0}),v=_(a=>a.ClientsStateData),[r,k]=m.exports.useState(""),{reset:S,handleSubmit:x,control:i}=E({defaultValues:l});function I(a){b(a.target.files[0])}let y=a=>{if(k(a),l.name){var t=new FormData;t.append("name",l.name),t.append("description",l.description),t.append("remark",l.remark),t.append("sortOrder",l.sort),t.append("image",C),t.append("status",l.status),t.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),t.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),t.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),h(L({data:t,_id:g})),$(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Client is Updated!!!"})})})),N("/apps/clients")}},w=()=>{S({remark:"",status:"",name:"",sort:0})};function o(a){let t=a.target.name,B=a.target.value;f(O=>({...O,[t]:B}))}return m.exports.useEffect(()=>{h(H());let a=v.find(t=>t._id===g);a&&f({remark:a.remark,status:a.status,name:a.name,sort:a.sortOrder})},[v.length]),s(j,{children:[e(J,{children:e(U,{tag:"h4",className:"text-center",children:"Update Client"})}),e(A,{children:s(V,{onSubmit:x(y),children:[s("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"name",children:"name"}),e(u,{control:i,id:"name",name:"name",render:({field:a})=>e(d,{...a,onChange:o,value:l.name,options:{allowInput:!0},className:c("form-control",{"is-invalid":r!==null&&r.name===null})})})]}),s("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"image",children:"Image"}),e(u,{control:i,id:"image",name:"image",render:({field:a})=>e(d,{...a,type:"file",onChange:I,options:{allowInput:!0},className:c("form-control",{"is-invalid":r!==null&&r.image===null})})})]}),s("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"remark",children:"remark"}),e(u,{control:i,id:"remark",name:"remark",render:({field:a})=>e(d,{...a,onChange:o,value:l.remark,options:{allowInput:!0},className:c("form-control",{"is-invalid":r!==null&&r.remark===null})})})]}),s("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"name",children:"Sort Order"}),e(u,{control:i,id:"sort",name:"sort",render:({field:a})=>e(d,{...a,onChange:o,value:l.sort|0,options:{allowInput:!0},className:c("form-control",{"is-invalid":r!==null&&r.sort===null})})})]}),s("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"status",children:"React Select"}),s("select",{name:"status",onChange:o,value:l.status,className:"form-control",children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),s("div",{className:"d-flex",children:[e(p,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(p,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:w,children:"Reset"}),e(p,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{K as default};
