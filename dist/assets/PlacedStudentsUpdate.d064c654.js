import{G as _,aI as j,h as g,r as p,o as n,an as J,j as a,ao as O,af as U,ap as A,ah as E,a8 as t,aa as o,k as d,a1 as N,al as V}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as $,C as i}from"./index.esm.88676979.js";import{b as G}from"./App.13c64db0.js";import{g as H,u as L}from"./PlacedStudentActionCreators.28cd91b3.js";import{g as T}from"./CenterActionCreators.d9bf0dbf.js";import{g as q}from"./CourseCategoryActionCreators.3c5324ef.js";const D=()=>{let u=G(),y=_(),{_id:v}=j(),f=g(e=>e.CourseCategoryStateData),C=g(e=>e.CenterStateData),[l,h]=p.exports.useState({name:"",phone:"",email:"",course:"",center:"",ducatId:"",image:"",company:"",package:"",role:"",status:"",remark:""}),I=g(e=>e.PlacedStudentStateData);const[r,k]=p.exports.useState("");let[b,S]=p.exports.useState(""),{reset:z,handleSubmit:w,control:c}=$({defaultValues:l});function x(e){S(e.target.files[0])}const P=()=>{if(k(l),l.name){var e=new FormData;e.append("name",l.name),e.append("email",l.email),e.append("phone",l.phone),e.append("course",l.course),e.append("center",l.center),e.append("ducatId",l.ducatId),e.append("image",b),e.append("company",l.company),e.append("package",l.package),e.append("role",l.role),e.append("image",b),e.append("remark",l.remark),e.append("status",l.status),e.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),e.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),e.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),u(L({data:e,_id:v})),V(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Record is Updated!!!"})})})),y("/placement/placed-students")}},B=()=>{h({name:"",phone:"",email:"",course:"",center:"",ducatId:"",image:"",company:"",package:"",role:"",status:"",remark:""})};function s(e){let m=e.target.name,R=e.target.value;h(F=>({...F,[m]:R}))}return p.exports.useEffect(()=>{u(H());let e=I.find(m=>m._id===v);e&&h({...e}),u(T()),u(q())},[I.length,f.length,C.length]),n(J,{children:[a(O,{children:a(U,{tag:"h4",className:"text-center",children:"Update Placed Student Reord"})}),a(A,{children:n(E,{onSubmit:w(P),children:[n("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"name",children:"Name"}),a(i,{control:c,id:"name",name:"name",render:({field:e})=>a(o,{...e,onChange:s,value:l.name,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.name===null})})})]}),n("div",{className:"row mb-1",children:[n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"phone",children:"Phone"}),a(i,{control:c,id:"phone",name:"phone",render:({field:e})=>a(o,{...e,onChange:s,value:l.phone,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.phone===null})})})]}),n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"email",children:"Email"}),a(i,{control:c,id:"email",name:"email",render:({field:e})=>a(o,{...e,onChange:s,value:l.email,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.email===null})})})]})]}),n("div",{className:"row mb-1",children:[n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"course",children:"Course"}),a("select",{name:"course",onChange:s,value:l.course,className:"form-control",children:f.map((e,m)=>a("option",{value:e.name,children:e.name},m))})]}),n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"center",children:"Center"}),a("select",{name:"center",onChange:s,value:l.center,className:"form-control",children:C.map((e,m)=>a("option",{value:e.title,children:e.title},m))})]})]}),n("div",{className:"row mb-1",children:[n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"image",children:"Image"}),a("input",{type:"file",name:"image",onChange:x,className:"form-control"})]}),n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"ducatId",children:"Ducat ID"}),a(i,{control:c,id:"ducatId",name:"ducatId",render:({field:e})=>a(o,{...e,onChange:s,value:l.ducatId,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.ducatId===null})})})]})]}),n("div",{className:"row mb-1",children:[n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"company",children:"Compnay"}),a(i,{control:c,id:"company",name:"company",render:({field:e})=>a(o,{...e,onChange:s,value:l.company,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.company===null})})})]}),n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"package",children:"Package"}),a(i,{control:c,id:"package",name:"package",render:({field:e})=>a(o,{...e,onChange:s,value:l.package,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.package===null})})})]})]}),n("div",{className:"row mb-1",children:[n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"role",children:"Role"}),a(i,{control:c,id:"role",name:"role",render:({field:e})=>a(o,{...e,onChange:s,value:l.role,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.role===null})})})]}),n("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"status",children:"Status"}),n("select",{name:"status",onChange:s,value:l.status,className:"form-control",children:[a("option",{value:"Active",children:"Active"}),a("option",{value:"Inactive",children:"Inactive"})]})]})]}),n("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"remark",children:"remark"}),a(i,{control:c,id:"remark",name:"remark",render:({field:e})=>a(o,{...e,type:"textarea",onChange:s,value:l.remark,options:{allowInput:!0},className:d("form-control",{"is-invalid":r!==null&&r.remark===null})})})]}),n("div",{className:"d-flex",children:[a(N,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(N,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:B,children:"Reset"}),a(N,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{D as default};
