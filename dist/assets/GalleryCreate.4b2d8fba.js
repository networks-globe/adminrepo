import{G as x,r as c,o as t,an as k,j as e,ao as C,af as w,ap as B,ah as O,a8 as i,aa as o,a1 as d,al as G}from"./index.7ed68957.js";import{S as F}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as R,C as n}from"./index.esm.88676979.js";import{b as j,s as A}from"./App.13c64db0.js";import{a as J}from"./GalleryActionCreators.f1d4cec1.js";import"./toConsumableArray.917c2683.js";let T=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],U={remark:"",status:"",alt:"",sort:0,image:""},z=()=>{var u=j(),p=x(),[h,g]=c.exports.useState("");let[_,v]=c.exports.useState(null),{reset:N,setError:b,handleSubmit:f,control:r,formState:{errors:s}}=R({defaultValues:U}),y=a=>{if(v(a),a.status!==""){var l=new FormData;l.append("alt",a.alt),l.append("sortOrder",a.sort),l.append("image",h),l.append("remark",a.remark),l.append("status",a.status.value),l.append("addByName",JSON.parse(localStorage.getItem("userData")).name),l.append("addById",JSON.parse(localStorage.getItem("userData"))._id),l.append("addByRole",JSON.parse(localStorage.getItem("userData")).role),u(J(l)),G(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Gallery Image is Uploaded!!!"})})})),p("/apps/gallery")}else for(let m in a)a[m]===""&&b(m,{type:"manual"})};function S(a){g(a.target.files[0])}let I=()=>{N({remark:null,status:null,alt:null,sort:0,image:"",description:""})};return t(k,{children:[e(C,{children:e(w,{tag:"h4",className:"text-center",children:"Upload a new Image in Gallery"})}),e(B,{children:t(O,{onSubmit:f(y),children:[t("div",{className:"mb-1",children:[e(i,{className:"form-label",for:"alt",children:"Alt Name"}),e(n,{control:r,id:"alt",name:"alt",render:({field:a})=>e(o,{...a,options:{allowInput:!0},invalid:s.alt&&!0})})]}),t("div",{className:"mb-1",children:[e(i,{className:"form-label",for:"name",children:"Image"}),e(n,{control:r,id:"image",name:"image",render:({field:a})=>e(o,{...a,onChange:S,type:"file",options:{allowInput:!0},invalid:s.image&&!0})})]}),t("div",{className:"mb-1",children:[e(i,{className:"form-label",for:"remark",children:"remark"}),e(n,{control:r,id:"remark",name:"remark",render:({field:a})=>e(o,{...a,type:"textarea",options:{allowInput:!0},invalid:s.remark&&!0})})]}),t("div",{className:"mb-1",children:[e(i,{className:"form-label",for:"sort",children:"Sort Order"}),e(n,{control:r,id:"sort",name:"sort",render:({field:a})=>e(o,{...a,options:{allowInput:!0},invalid:s.sort&&!0})})]}),t("div",{className:"mb-1",children:[e(i,{className:"form-label",for:"status",children:"React Select"}),e(n,{id:"status",control:r,name:"status",render:({field:a})=>e(F,{...a,isClearable:!0,options:T,classNamePrefix:"select",theme:A,invalid:s.status&&!0})})]}),t("div",{className:"d-flex",children:[e(d,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(d,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:I,children:"Reset"}),e(d,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{z as default};
