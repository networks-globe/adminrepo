import{r as s,G as O,h as j,o as a,an as A,j as e,ao as F,af as J,ap as R,ah as H,a8 as r,aa as f,ad as L,a1 as c,al as P}from"./index.7ed68957.js";import{S as g}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as W,C as i}from"./index.esm.88676979.js";import{h as _,D as y,r as $,c as G}from"./form-quill-editor.f7579e23.js";import{b as M,s as v}from"./App.13c64db0.js";import{a as V}from"./TutorialDataActionCreators.0ccf6ea6.js";import{g as q}from"./TechnologyActionCreators.3980be47.js";import"./toConsumableArray.917c2683.js";let z=[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],K={topic:"",status:"",sort:0,technology:""},oe=()=>{var[S,N]=s.exports.useState([]),n=M(),b=O(),m=j(t=>t.TechnologyStateData);let[Q,C]=s.exports.useState(null),x=_(""),D=y.ContentState.createFromBlockArray(x.contentBlocks),T=y.EditorState.createWithContent(D),[d,u]=s.exports.useState(T),{reset:I,setError:B,handleSubmit:k,control:l,formState:{errors:o}}=W({defaultValues:K}),w=t=>{C(t);let h=G(d.getCurrentContent());if(u(h),t.topic)n(V({topic:t.topic,content:h,status:t.status.value,sortOrder:t.sort,technology:t.technology.value,addByName:JSON.parse(localStorage.getItem("userData")).name,addByRole:JSON.parse(localStorage.getItem("userData")).role,addById:JSON.parse(localStorage.getItem("userData"))._id})),P(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Tutorial Data is Created!!!"})})})),b("/tutorial/tutorial-data");else for(let p in t)t[p]===""&&B(p,{type:"manual"})},E=()=>{I({topic:"",status:"",sort:0,technology:""})};return s.exports.useEffect(()=>{n(q()),N(m.map(t=>({value:t.name,label:t.name})))},[m.length]),a(A,{children:[e(F,{children:e(J,{tag:"h4",className:"text-center",children:"Create a Tutorial Data"})}),e(R,{children:a(H,{onSubmit:k(w),children:[a("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"technology",children:"Technology"}),e(i,{id:"technology",control:l,name:"technology",render:({field:t})=>e(g,{...t,isClearable:!0,options:S,classNamePrefix:"select",theme:v,invalid:o.technology&&!0})})]}),a("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"topic",children:"Topic"}),e(i,{control:l,id:"topic",name:"topic",render:({field:t})=>e(f,{...t,options:{allowInput:!0},invalid:o.topic&&!0})})]}),a("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"answer",children:"Content"}),a(L,{sm:"12",className:"mb-2",children:[e(r,{className:"form-label",children:"Description"}),e($.exports.Editor,{editorState:d,onEditorStateChange:t=>u(t)})]})]}),a("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"sort",children:"Sort Order"}),e(i,{control:l,id:"sort",name:"sort",render:({field:t})=>e(f,{...t,options:{allowInput:!0},invalid:o.sort&&!0})})]}),a("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"status",children:"Select Status"}),e(i,{id:"status",control:l,name:"status",render:({field:t})=>e(g,{...t,isClearable:!0,options:z,classNamePrefix:"select",theme:v,invalid:o.status&&!0})})]}),a("div",{className:"d-flex",children:[e(c,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(c,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:E,children:"Reset"}),e(c,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{oe as default};
