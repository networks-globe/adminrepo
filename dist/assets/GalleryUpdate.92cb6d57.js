import{G as F,r as d,aI as O,h as R,o as r,an as _,j as e,ao as j,af as A,ap as J,ah as U,a8 as n,aa as m,k as c,a1 as p,al as V}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as $,C as u}from"./index.esm.88676979.js";import{b as E}from"./App.13c64db0.js";import{g as H,u as L}from"./GalleryActionCreators.f1d4cec1.js";let K=()=>{let h=E(),v=F(),[y,b]=d.exports.useState(""),{_id:g}=O(),[t,N]=d.exports.useState({remark:"",status:"",name:"",description:"",sort:0}),f=R(a=>a.GalleryStateData),[s,I]=d.exports.useState(""),{reset:S,handleSubmit:k,control:i}=$({defaultValues:t});function x(a){b(a.target.files[0])}let C=a=>{if(I(a),t.name){var l=new FormData;l.append("name",t.name),l.append("description",t.description),l.append("remark",t.remark),l.append("sortOrder",t.sort),l.append("image",y),l.append("status",t.status),l.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),l.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),l.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),h(L({data:l,_id:g})),V(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Gallery Image is Updated!!!"})})})),v("/apps/gallery")}},w=()=>{S({remark:"",status:"",name:"",sort:0})};function o(a){let l=a.target.name,G=a.target.value;N(B=>({...B,[l]:G}))}return d.exports.useEffect(()=>{h(H());let a=f.find(l=>l._id===g);a&&N({...a})},[f.length]),r(_,{children:[e(j,{children:e(A,{tag:"h4",className:"text-center",children:"Update Gallery Image"})}),e(J,{children:r(U,{onSubmit:k(C),children:[r("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"alt",children:"Alt Name"}),e(u,{control:i,id:"alt",name:"alt",render:({field:a})=>e(m,{...a,onChange:o,value:t.alt,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.alt===null})})})]}),r("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"image",children:"Image"}),e(u,{control:i,id:"image",name:"image",render:({field:a})=>e(m,{...a,type:"file",onChange:x,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.image===null})})})]}),r("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"remark",children:"remark"}),e(u,{control:i,id:"remark",name:"remark",render:({field:a})=>e(m,{...a,onChange:o,value:t.remark,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.remark===null})})})]}),r("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"name",children:"Sort Order"}),e(u,{control:i,id:"sort",name:"sort",render:({field:a})=>e(m,{...a,onChange:o,value:t.sort|0,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.sort===null})})})]}),r("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"status",children:"React Select"}),r("select",{name:"status",onChange:o,value:t.status,className:"form-control",children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),r("div",{className:"d-flex",children:[e(p,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(p,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:w,children:"Reset"}),e(p,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{K as default};
