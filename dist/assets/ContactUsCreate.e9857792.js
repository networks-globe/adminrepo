import{G as O,r as o,h as f,o as t,an as D,j as a,ao as B,af as E,ap as P,ah as J,a8 as l,aa as i,a1 as c,al as R}from"./index.7ed68957.js";import{S as u}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as U,C as n}from"./index.esm.88676979.js";import{b as A,s as d}from"./App.13c64db0.js";import{a as F}from"./ContactUsActionCreators.440c59d6.js";import{g as T}from"./CenterActionCreators.d9bf0dbf.js";import{g as _}from"./CourseActionCreators.1947fb33.js";import"./toConsumableArray.917c2683.js";let $=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],q={name:"",phone:"",email:"",course:"",center:"",subject:"",message:"",status:"",remark:""},Y=()=>{let m=A(),v=O(),[N,g]=o.exports.useState([]),[C,S]=o.exports.useState([]),p=f(e=>e.CourseStateData),h=f(e=>e.CenterStateData),[G,x]=o.exports.useState(null),{reset:y,setError:k,handleSubmit:I,control:r,formState:{errors:s}}=U({defaultValues:q}),j=e=>{if(x(e),e.name)m(F({name:e.name,phone:e.phone,email:e.email,subject:e.subject,message:e.message,course:e.course.value,center:e.center.value,remark:e.remark,status:e.status.value,addByName:JSON.parse(localStorage.getItem("userData")).name,addByRole:JSON.parse(localStorage.getItem("userData")).role,addById:JSON.parse(localStorage.getItem("userData"))._id})),R(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Contact Us Query is Created!!!"})})})),v("/apps/contact-us");else for(let b in e)e[b]===""&&k(b,{type:"manual"})},w=()=>{y({name:"",phone:"",email:"",course:"",center:"",subject:"",message:"",status:"",remark:""})};return o.exports.useEffect(()=>{m(T()),m(_()),g(h.map(e=>({value:e.title,label:e.title,name:"center"}))),S(p.map(e=>({value:e.title,label:e.title,name:"course"})))},[p.length,h.length]),t(D,{children:[a(B,{children:a(E,{tag:"h4",className:"text-center",children:"Create a New Enquiry"})}),a(P,{children:t(J,{onSubmit:I(j),children:[t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"name",children:"Name"}),a(n,{control:r,id:"name",name:"name",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.name&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"phone",children:"Phone"}),a(n,{control:r,id:"phone",name:"phone",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.phone&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"email",children:"Email"}),a(n,{control:r,id:"email",name:"email",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.email&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"subject",children:"Subject"}),a(n,{control:r,id:"subject",name:"subject",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.subject&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"message",children:"Message"}),a(n,{control:r,id:"message",name:"message",render:({field:e})=>a(i,{...e,type:"textarea",options:{allowInput:!0},invalid:s.message&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"course",children:"Course"}),a(n,{id:"course",control:r,name:"course",render:({field:e})=>a(u,{...e,isClearable:!0,options:C,classNamePrefix:"select",theme:d,invalid:s.course&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"center",children:"Center"}),a(n,{id:"center",control:r,name:"center",render:({field:e})=>a(u,{...e,isClearable:!0,options:N,classNamePrefix:"select",theme:d,invalid:s.center&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"remark",children:"remark"}),a(n,{control:r,id:"remark",name:"remark",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.remark&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"status",children:"Status"}),a(n,{id:"status",control:r,name:"status",render:({field:e})=>a(u,{...e,isClearable:!0,options:$,classNamePrefix:"select",theme:d,invalid:s.status&&!0})})]}),t("div",{className:"d-flex",children:[a(c,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(c,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:w,children:"Reset"}),a(c,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{Y as default};
