import{h as V,r as m,o as l,an as F,j as t,af as k,ao as _,ap as B,ac as R,ad as P,a8 as Q,aa as z,U as y,D as T,L,B as U,C as G,E as D}from"./index.7ed68957.js";import{S as Y}from"./react-select.esm.67b469f7.js";import{Q as J,R as K}from"./app-users.9834fa95.js";import{b as X,s as Z,d as ee,S as te,M as ae,E as le,e as se,T as re}from"./App.13c64db0.js";import{g as ne,d as ie}from"./StudentRegistrationPlacementActionCreators.b6449156.js";import"./toConsumableArray.917c2683.js";let ce=({mainData:o,handlePerPage:a,rowsPerPage:r,handleFilter:f,searchTerm:h})=>{function S(i){let s,d=",",u=`
`,b=Object.keys(o[0]);return s="",s+=b.join(d),s+=u,i.forEach(p=>{let w=0;b.forEach(g=>{w>0&&(s+=d),s+=p[g],w++}),s+=u}),s}function x(i){let s=document.createElement("a"),d=S(i);if(d===null)return;let u="export.csv";d.match(/^data:text\/csv/i)||(d=`data:text/csv;charset=utf-8,${d}`),s.setAttribute("href",encodeURI(d)),s.setAttribute("download",u),s.click()}return t("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:l(R,{children:[t(P,{xl:"6",className:"d-flex align-items-center p-0",children:l("div",{className:"d-flex align-items-center w-100",children:[t("label",{htmlFor:"rows-per-page",children:"Show"}),l(z,{className:"mx-50",type:"select",id:"rows-per-page",value:r,onChange:a,style:{width:"5rem"},children:[t("option",{value:"10",children:"10"}),t("option",{value:"25",children:"25"}),t("option",{value:"50",children:"50"})]}),t("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),l(P,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[l("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[t("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),t(z,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:h,onChange:i=>f(i.target.value)})]}),l("div",{className:"d-flex align-items-center table-header-actions",children:[t(y,{className:"me-1",children:l(T,{color:"secondary",caret:!0,outline:!0,children:[t(te,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",onClick:()=>x(o),children:"Excel"})]})}),t(L,{className:"btn btn-primary add-new-user",to:"/placement/student-registration-placement/create",children:"Register New Student"})]})]})]})})},oe=(o,a,r)=>o.slice((r-1)*a,r*a);function N(o,a){var r=[];return a.status===""?r=o:r=o.filter(f=>f.status.toLowerCase()===a.status.toLowerCase()),oe(r,a.perPage,a.page)}let de=()=>{let o=X(),a=V(e=>e.StudentRegistrationPlacementStateData),[r,f]=m.exports.useState("desc"),[h,S]=m.exports.useState(""),[x,i]=m.exports.useState([]),[s,d]=m.exports.useState(1),[u,b]=m.exports.useState("id"),[p,w]=m.exports.useState(10),[g,ue]=m.exports.useState({value:"",label:"Select Role"}),[v,me]=m.exports.useState({value:"",label:"Select Plan"}),[C,W]=m.exports.useState({value:"",label:"Select Status",number:0});m.exports.useEffect(()=>{o(ne()),i(N(a,{sort:r,sortColumn:u,q:h,page:s,perPage:p,role:g.value,status:C.value,currentPlan:v.value}))},[o,a.length,r,u,s]);let j=[{value:"",label:"Select Status",number:0},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3}],E=e=>{i(N(a,{sort:r,sortColumn:u,q:h,perPage:p,page:e.selected+1,role:g.value,status:C.value,currentPlan:v.value})),d(e.selected+1)},I=e=>{let c=parseInt(e.currentTarget.value);i(N(a,{sort:r,sortColumn:u,q:h,perPage:c,page:s,role:g.value,currentPlan:v.value,status:C.value})),w(c)},q=e=>{S(e);var c=a.filter(n=>{if(n.name.toLowerCase().includes(e.toLowerCase())||n.phone.toLowerCase().includes(e.toLowerCase())||n.email.toLowerCase().includes(e.toLowerCase())||n.trainer.toLowerCase().includes(e.toLowerCase())||n.ducatId.toLowerCase().includes(e.toLowerCase())||n.course.toLowerCase().includes(e.toLowerCase())||n.center.toLowerCase().includes(e.toLowerCase())||n.qualification.toLowerCase().includes(e.toLowerCase())||n.passoutYear.toLowerCase().includes(e.toLowerCase())||n.college.toLowerCase().includes(e.toLowerCase()))return n});i(c)},A=()=>{let e=Number(Math.floor(a.length/p));return a.length%p!==0&&e++,t(K,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:s!==0?s-1:0,onPageChange:c=>E(c),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},O=()=>{let e={role:g.value,currentPlan:v.value,status:C.value,q:h},c=Object.keys(e).some(function(n){return e[n].length>0});return x.length>0?x:x.length===0&&c?[]:x.slice(0,p)},H=(e,c)=>{f(c),b(e.sortField),i(N(a,{sort:r,sortColumn:u,q:h,page:s,perPage:p,role:g.value,status:C.value,currentPlan:v.value}))},$={Placed:"light-success",Accepted:"light-warning",Pending:"light-danger"},M=[{name:"Name",sortable:!0,minWidth:"140px",sortField:"name",selector:e=>e.name,cell:e=>t("span",{className:"text-capitalize",children:e.name})},{name:"Phone",sortable:!0,minWidth:"130px",sortField:"phone",selector:e=>e.phone,cell:e=>t("span",{className:"text-capitalize",children:e.phone})},{name:"Email",sortable:!0,minWidth:"250px",sortField:"email",selector:e=>e.email,cell:e=>t("span",{className:"text-capitalize",children:e.email})},{name:"Course",sortable:!0,minWidth:"300px",sortField:"course",selector:e=>e.course,cell:e=>t("span",{className:"text-capitalize",children:e.course})},{name:"Center",sortable:!0,minWidth:"130px",sortField:"center",selector:e=>e.center,cell:e=>t("span",{className:"text-capitalize",children:e.center})},{name:"Ducat Id",sortable:!0,minWidth:"200px",sortField:"ducatId",selector:e=>e.ducatId,cell:e=>t("span",{className:"text-capitalize",children:e.ducatId})},{name:"10Th %",sortable:!0,minWidth:"200px",sortField:"tenth",selector:e=>e.tenth,cell:e=>l("span",{className:"text-capitalize",children:[e.tenth,"%"]})},{name:"12Th %",sortable:!0,minWidth:"200px",sortField:"twelvth",selector:e=>e.twelvth,cell:e=>l("span",{className:"text-capitalize",children:[e.twelvth,"%"]})},{name:"Graduation %",sortable:!0,minWidth:"200px",sortField:"graduation",selector:e=>e.graduation,cell:e=>l("span",{className:"text-capitalize",children:[e.graduation,"%"]})},{name:"Post Graduation %",sortable:!0,minWidth:"200px",sortField:"postgraduation",selector:e=>e.postgraduation,cell:e=>l("span",{className:"text-capitalize",children:[e.postgraduation,"%"]})},{name:"Qualification",sortable:!0,minWidth:"200px",sortField:"qualification",selector:e=>e.qualification,cell:e=>t("span",{className:"text-capitalize",children:e.qualification})},{name:"Trainer",sortable:!0,minWidth:"200px",sortField:"trainer",selector:e=>e.trainer,cell:e=>t("span",{className:"text-capitalize",children:e.trainer})},{name:"Remark",minWidth:"300px",sortable:!0,sortField:"remark",selector:e=>e.remark,cell:e=>t("span",{className:"text-capitalize",children:e.remark})},{name:"status",minWidth:"138px",sortable:!0,sortField:"status",selector:e=>e.status,cell:e=>t(U,{className:"text-capitalize",color:$[e.status],pill:!0,children:e.status})},{name:"Actions",minWidth:"100px",cell:e=>t("div",{className:"column-action",children:l(y,{children:[t(T,{tag:"div",className:"btn btn-sm",children:t(ae,{size:14,className:"cursor-pointer"})}),l(G,{children:[t(D,{className:"w-100",children:l(L,{to:"/placement/student-registration-placement/show/"+e._id,children:[t(le,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"View"})]})}),l(L,{to:"/placement/student-registration-placement/update/"+e._id,className:"p-1",children:["\xA0",t(se,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Edit"})]}),l(D,{className:"w-100",onClick:c=>{c.preventDefault(),o(ie({_id:e._id}))},children:[t(re,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Delete"})]})]})]})})}];return l(m.exports.Fragment,{children:[l(F,{children:[t(k,{tag:"h3",className:"text-center pt-2",children:"Student Registration for Placement"}),t(_,{children:t(k,{tag:"h4",children:"Filters"})}),t(B,{children:t(R,{children:l(P,{md:"4",children:[t(Q,{for:"status-select",children:"Status"}),t(Y,{theme:Z,isClearable:!1,className:"react-select",classNamePrefix:"select",options:j,value:C,onChange:e=>{W(e),d(1),i(N(a,{sort:r,sortColumn:u,q:h,page:1,status:e.value,perPage:p,role:g.value,currentPlan:v.value}))}})]})})})]}),t(F,{className:"overflow-hidden",children:t("div",{className:"react-dataTable",children:t(J,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:M,onSort:H,sortIcon:t(ee,{}),className:"react-dataTable",paginationComponent:A,data:O(),subHeaderComponent:t(ce,{mainData:x,searchTerm:h,rowsPerPage:p,handleFilter:q,handlePerPage:I})})})})]})},fe=()=>t("div",{className:"app-user-list",children:t(de,{})});export{fe as default};
