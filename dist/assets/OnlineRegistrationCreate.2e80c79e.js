import{G as D,r as o,h as b,o as t,an as z,j as a,ao as P,af as R,ap as B,ah as A,a8 as l,aa as i,a1 as u,al as T}from"./index.7ed68957.js";import{S as c}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as j,C as n}from"./index.esm.88676979.js";import{b as E,s as m}from"./App.13c64db0.js";import{a as J}from"./OnlineRegistrationActionCreators.d46eedb2.js";import{g as F}from"./CenterActionCreators.d9bf0dbf.js";import{g as _}from"./CourseActionCreators.1947fb33.js";import"./toConsumableArray.917c2683.js";let $=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],G=[{value:"Select a Status",label:"Select a Status"},{value:"Pending",label:"Pending"},{value:"Done",label:"Done"}],H={name:"",phone:"",email:"",course:"",center:"",city:"",country:"",zipcode:"",address:"",amount:"",transactionid:"",transactionstatus:"",status:"",remark:""},Y=()=>{let d=E(),v=D(),[N,y]=o.exports.useState([]),[S,C]=o.exports.useState([]),p=b(e=>e.CourseStateData),h=b(e=>e.CenterStateData),[L,g]=o.exports.useState(null),{reset:x,setError:I,handleSubmit:k,control:r,formState:{errors:s}}=j({defaultValues:H}),w=e=>{if(g(e),e.name)d(J({name:e.name,phone:e.phone,email:e.email,address:e.address,zipcode:e.zipcode,city:e.city,country:e.country,amount:e.amount,transactionid:e.transactionid,transactionstatus:e.transactionstatus.value,course:e.course.value,center:e.center.value,remark:e.remark,status:e.status.value,addByName:JSON.parse(localStorage.getItem("userData")).name,addByRole:JSON.parse(localStorage.getItem("userData")).role,addById:JSON.parse(localStorage.getItem("userData"))._id})),T(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Online Registration is Created!!!"})})})),v("/apps/online-registration");else for(let f in e)e[f]===""&&I(f,{type:"manual"})},O=()=>{x({name:"",phone:"",email:"",course:"",center:"",city:"",country:"",zipcode:"",address:"",amount:"",transactionid:"",transactionstatus:"",status:"",remark:""})};return o.exports.useEffect(()=>{d(F()),d(_()),y(h.map(e=>({value:e.title,label:e.title,name:"center"}))),C(p.map(e=>({value:e.title,label:e.title,name:"course"})))},[p.length,h.length]),t(z,{children:[a(P,{children:a(R,{tag:"h4",className:"text-center",children:"Create a New Registration"})}),a(B,{children:t(A,{onSubmit:k(w),children:[t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"name",children:"Name"}),a(n,{control:r,id:"name",name:"name",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.name&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"phone",children:"Phone"}),a(n,{control:r,id:"phone",name:"phone",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.phone&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"email",children:"Email"}),a(n,{control:r,id:"email",name:"email",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.email&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"address",children:"Address"}),a(n,{control:r,id:"address",name:"address",render:({field:e})=>a(i,{...e,type:"textarea",options:{allowInput:!0},invalid:s.address&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"zipcode",children:"ZIP Code"}),a(n,{control:r,id:"zipcode",name:"zipcode",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.zipcode&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"city",children:"City"}),a(n,{control:r,id:"city",name:"city",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.city&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"country",children:"Country"}),a(n,{control:r,id:"country",name:"country",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.country&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"amount",children:"Amount"}),a(n,{control:r,id:"amount",name:"amount",render:({field:e})=>a(i,{...e,type:"number",options:{allowInput:!0},invalid:s.amount&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"transactionid",children:"Transaction ID"}),a(n,{control:r,id:"transactionid",name:"transactionid",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.transactionid&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"transactionstatus",children:"Transaction Status"}),a(n,{id:"transactionstatus",control:r,name:"transactionstatus",render:({field:e})=>a(c,{...e,isClearable:!0,options:G,classNamePrefix:"select",theme:m,invalid:s.transactionstatus&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"course",children:"Course"}),a(n,{id:"course",control:r,name:"course",render:({field:e})=>a(c,{...e,isClearable:!0,options:S,classNamePrefix:"select",theme:m,invalid:s.course&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"center",children:"Center"}),a(n,{id:"center",control:r,name:"center",render:({field:e})=>a(c,{...e,isClearable:!0,options:N,classNamePrefix:"select",theme:m,invalid:s.center&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"remark",children:"remark"}),a(n,{control:r,id:"remark",name:"remark",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:s.remark&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"status",children:"Status"}),a(n,{id:"status",control:r,name:"status",render:({field:e})=>a(c,{...e,isClearable:!0,options:$,classNamePrefix:"select",theme:m,invalid:s.status&&!0})})]}),t("div",{className:"d-flex",children:[a(u,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(u,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:O,children:"Reset"}),a(u,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{Y as default};
