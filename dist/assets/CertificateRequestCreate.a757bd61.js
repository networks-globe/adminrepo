import{G as O,r as c,h as N,o as t,an as B,j as a,ao as R,af as q,ap as E,ah as F,a8 as s,aa as o,a1 as m,al as P}from"./index.7ed68957.js";import{S as d}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as j,C as i}from"./index.esm.88676979.js";import{b as J,s as u}from"./App.13c64db0.js";import{a as T}from"./CertificationRequestActionCreators.b76faa9c.js";import{g as A}from"./CenterActionCreators.d9bf0dbf.js";import{g as _}from"./CourseActionCreators.1947fb33.js";import"./toConsumableArray.917c2683.js";let $=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],G={name:"",email:"",phone:"",course:"",center:"",faculty:"",ducatId:"",from:"",toDate:"",certificateNo:"",status:"",remark:""},Y=()=>{let n=J(),v=O(),[b,y]=c.exports.useState([]),[C,I]=c.exports.useState([]),f=N(e=>e.CourseStateData),p=N(e=>e.CenterStateData),[H,S]=c.exports.useState(null),{reset:x,setError:g,handleSubmit:w,control:r,formState:{errors:l}}=j({defaultValues:G}),D=e=>{if(S(e),e.name)n(T({name:e.name,phone:e.phone,email:e.email,course:e.course.value,center:e.center.value,faculty:e.faculty,ducatId:e.ducatId,from:e.from,toDate:e.toDate,certificateNo:e.certificateNo,status:e.status.value,remark:e.remark,addByName:JSON.parse(localStorage.getItem("userData")).name,addByRole:JSON.parse(localStorage.getItem("userData")).role,addById:JSON.parse(localStorage.getItem("userData"))._id})),P(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Enquiry is Created!!!"})})})),v("/apps/certification-request");else for(let h in e)e[h]===""&&g(h,{type:"manual"})},k=()=>{x({name:"",email:"",phone:"",course:"",center:"",faculty:"",ducatId:"",from:"",toDate:"",certificateNo:"",status:"",remark:""})};return c.exports.useEffect(()=>{n(A()),n(_()),y(p.map(e=>({value:e.title,label:e.title,name:"center"}))),I(f.map(e=>({value:e.title,label:e.title,name:"course"})))},[f.length,p.length]),t(B,{children:[a(R,{children:a(q,{tag:"h4",className:"text-center",children:"Create a New Certification Request"})}),a(E,{children:t(F,{onSubmit:w(D),children:[t("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"name",children:"Name"}),a(i,{control:r,id:"name",name:"name",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.name&&!0})})]}),t("div",{className:"row mb-1",children:[t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"phone",children:"Phone"}),a(i,{control:r,id:"phone",name:"phone",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.phone&&!0})})]}),t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"email",children:"Email"}),a(i,{control:r,id:"email",name:"email",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.email&&!0})})]})]}),t("div",{className:"row mb-1",children:[t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"course",children:"Course"}),a(i,{id:"course",control:r,name:"course",render:({field:e})=>a(d,{...e,isClearable:!0,options:C,classNamePrefix:"select",theme:u,invalid:l.course&&!0})})]}),t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"center",children:"Center"}),a(i,{id:"center",control:r,name:"center",render:({field:e})=>a(d,{...e,isClearable:!0,options:b,classNamePrefix:"select",theme:u,invalid:l.center&&!0})})]})]}),t("div",{className:"row mb-1",children:[t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"faculty",children:"Faculty"}),a(i,{control:r,id:"faculty",name:"faculty",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.faculty&&!0})})]}),t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"ducatId",children:"DucatId"}),a(i,{control:r,id:"ducatId",name:"ducatId",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.ducatId&&!0})})]})]}),t("div",{className:"row mb-1",children:[t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"from",children:"From"}),a(i,{control:r,id:"from",name:"from",render:({field:e})=>a(o,{...e,type:"date",options:{allowInput:!0},invalid:l.from&&!0})})]}),t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"toDate",children:"To Date"}),a(i,{control:r,id:"toDate",name:"toDate",render:({field:e})=>a(o,{...e,type:"date",options:{allowInput:!0},invalid:l.toDate&&!0})})]})]}),t("div",{className:"row mb-1",children:[t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"certificateNo",children:"Certificate Number"}),a(i,{control:r,id:"certificateNo",name:"certificateNo",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.certificateNo&&!0})})]}),t("div",{className:"col-md-6",children:[a(s,{className:"form-label",for:"status",children:"Status"}),a(i,{id:"status",control:r,name:"status",render:({field:e})=>a(d,{...e,isClearable:!0,options:$,classNamePrefix:"select",theme:u,invalid:l.status&&!0})})]})]}),t("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"remark",children:"remark"}),a(i,{control:r,id:"remark",name:"remark",render:({field:e})=>a(o,{...e,type:"textarea",options:{allowInput:!0},invalid:l.remark&&!0})})]}),t("div",{className:"d-flex",children:[a(m,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(m,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:k,children:"Reset"}),a(m,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{Y as default};
