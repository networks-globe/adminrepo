import{c8 as L,c9 as _,G as H,aI as A,r as p,h as O,o as l,an as R,j as e,ao as U,af as P,ap as W,ah as $,aJ as G,a8 as r,aa as i,k as c,ad as V,a1 as g,al as D}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as K,C as d}from"./index.esm.88676979.js";import{h as q,D as u,r as z,c as Q}from"./form-quill-editor.f7579e23.js";import{b as X}from"./App.13c64db0.js";import"./toConsumableArray.917c2683.js";function Y(){return{type:L}}function Z(h){return{type:_,payload:h}}const re=()=>{var h=X(),C=H();A();var[t,v]=p.exports.useState({content:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:""}),[b,w]=p.exports.useState("");let x=q(""),j=u.ContentState.createFromBlockArray(x.contentBlocks),f=u.EditorState.createWithContent(j),[N,y]=p.exports.useState(f);var S=O(a=>a.CMSStateData);const[s,k]=p.exports.useState("");let{reset:I,handleSubmit:M,control:n}=K({defaultValues:t});const F=a=>{if(k(a),t.name){var o=new FormData;o.append("content",Q(N.getCurrentContent())),o.append("logo",b),o.append("seourl",t.seourl),o.append("metatitle",t.metatitle),o.append("metakeywords",t.metakeywords),o.append("metadescription",t.metadescription),o.append("metasection",t.metasection),o.append("headcss",t.headcss),o.append("footercss",t.footercss),o.append("headjs",t.headjs),o.append("footerjs",t.footerjs),o.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),o.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),o.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),h(Z({data:o,_id:t._id})),D(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Record is Updated!!!"})})})),C("/apps/cms")}};function B(a){w(a.target.files[0])}const E=()=>{I({content:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:""})};function m(a){var{name:o,value:T}=a.target;v(J=>({...J,[o]:T}))}return p.exports.useEffect(()=>{h(Y());var a=S[0];a&&(v({...a}),f=u.EditorState.createWithContent(u.ContentState.createFromBlockArray(u.convertFromHTML(a.content))),y(f))},[S.length]),l(R,{children:[e(U,{children:e(P,{tag:"h4",className:"text-center",children:"Update"})}),e(W,{children:l($,{onSubmit:M(F),children:[l("div",{className:"row mb-1",children:[e("div",{className:"col-md-6",children:t.logo?l(G,{children:[e(r,{className:"form-label",for:"logo",children:"Logo"}),e("input",{type:"image",src:t.logo&&`/logo/${t.logo}`,width:"100px",height:"100px"})]}):""}),l("div",{className:"col-md-6",children:[e(r,{className:"form-label",for:"logo",children:"Logo"}),e(d,{control:n,id:"logo",name:"logo",render:({field:a})=>e(i,{...a,type:"file",onChange:B,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.logo===null})})})]})]}),e("div",{className:"mb-1",children:l(V,{sm:"12",className:"mb-2",children:[e(r,{className:"form-label",children:"About Page Content"}),e(z.exports.Editor,{editorState:N,onEditorStateChange:a=>y(a)})]})}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"seourl",children:"SEO Url"}),e(d,{control:n,id:"seourl",name:"seourl",render:({field:a})=>e(i,{...a,onChange:m,value:t.seourl,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.seourl===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"metatitle",children:"Meta Title"}),e(d,{control:n,id:"metatitle",name:"metatitle",render:({field:a})=>e(i,{...a,onChange:m,value:t.metatitle,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metatitle===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"metakeywords",children:"Meta Keywords"}),e(d,{control:n,id:"metakeywords",name:"metakeywords",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.metakeywords,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metakeywords===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"metadescription",children:"Meta Description"}),e(d,{control:n,id:"metadescription",name:"metadescription",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.metadescription,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metadescription===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"metasection",children:"Meta Section"}),e(d,{control:n,id:"metasection",name:"metasection",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.metasection,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metasection===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"headcss",children:"Head CSS"}),e(d,{control:n,id:"headcss",name:"headcss",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.headcss,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.headcss===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"headjs",children:"Head JS"}),e(d,{control:n,id:"headjs",name:"headjs",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.headjs,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.headjs===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"footercss",children:"Footer CSS"}),e(d,{control:n,id:"footercss",name:"footercss",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.footercss,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.footercss===null})})})]}),l("div",{className:"mb-1",children:[e(r,{className:"form-label",for:"footerjs",children:"Footer Js"}),e(d,{control:n,id:"footerjs",name:"footerjs",render:({field:a})=>e(i,{...a,type:"textarea",onChange:m,value:t.footerjs,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.footerjs===null})})})]}),l("div",{className:"d-flex",children:[e(g,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(g,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:E,children:"Reset"}),e(g,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{re as default};
