import{G as U,aI as O,r as i,h as g,o as s,an as _,j as a,ao as j,af as F,ap as J,ah as R,a8 as o,aa as u,k as d,a1 as v,al as A}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as V,C as p}from"./index.esm.88676979.js";import{b as $}from"./App.13c64db0.js";import{g as E,u as G}from"./UpcomingBatchesActionCreators.eae78b04.js";import{g as H}from"./CenterActionCreators.d9bf0dbf.js";import{g as L}from"./CourseActionCreators.1947fb33.js";const ee=()=>{let c=$(),D=U(),{_id:N}=O(),[P,S]=i.exports.useState([]),[q,k]=i.exports.useState([]),h=g(e=>e.CourseStateData),f=g(e=>e.CenterStateData),[t,C]=i.exports.useState({course:"",center:"",trainer:"",startDate:"",startTime:"",status:"",remark:""}),b=g(e=>e.UpComingBatchesStateData);const[l,x]=i.exports.useState("");let{reset:T,handleSubmit:z,control:m}=V({defaultValues:t});const y=()=>{x(t),t.course&&(c(G({_id:N,course:t.course,center:t.center,trainer:t.trainer,startDate:t.startDate,startTime:t.startTime,remark:t.remark,status:t.status,updateByName:JSON.parse(localStorage.getItem("userData")).name,updateByRole:JSON.parse(localStorage.getItem("userData")).role,updateById:JSON.parse(localStorage.getItem("userData"))._id})),A(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Batch is Updated!!!"})})})),D("/apps/upcoming-batches"))},B=()=>{T({course:"",center:"",trainer:"",startDate:"",startTime:"",status:"",remark:""})};function n(e){let r=e.target.name,I=e.target.value;C(w=>({...w,[r]:I}))}return i.exports.useEffect(()=>{c(E());let e=b.find(r=>r._id===N);e&&C({center:e.center,course:e.course,trainer:e.trainer,startDate:e.startDate,startTime:e.startTime,remark:e.remark,status:e.status}),c(H()),c(L()),S(f.map(r=>({value:r.title,label:r.title,name:"center"}))),k(h.map(r=>({value:r.title,label:r.title,name:"course"})))},[b.length,h.length,f.length]),s(_,{children:[a(j,{children:a(F,{tag:"h4",className:"text-center",children:"Update Upcoming Batch"})}),a(J,{children:s(R,{onSubmit:y,children:[s("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"course",children:"Course"}),a("select",{name:"course",onChange:n,value:t.course,className:"form-control",children:h.map((e,r)=>a("option",{value:e.title,children:e.title},r))})]}),s("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"center",children:"Center"}),a("select",{name:"center",onChange:n,value:t.center,className:"form-control",children:f.map((e,r)=>a("option",{value:e.title,children:e.title},r))})]}),s("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"trainer",children:"Trainer"}),a(p,{control:m,id:"trainer",name:"trainer",render:({field:e})=>a(u,{...e,onChange:n,value:t.trainer,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.trainer===null})})})]}),s("div",{className:"row",children:[s("div",{className:"col-md-6 mb-1",children:[a(o,{className:"form-label",for:"startDate",children:"Start Date"}),a(p,{control:m,id:"startDate",name:"startDate",render:({field:e})=>a(u,{...e,type:"date",onChange:n,value:t.startDate,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.startDate===null})})})]}),s("div",{className:"col-md-6 mb-1",children:[a(o,{className:"form-label",for:"startTime",children:"Start Time"}),a(p,{control:m,id:"startTime",name:"startTime",render:({field:e})=>a(u,{...e,onChange:n,value:t.startTime,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.startTime===null})})})]})]}),s("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"remark",children:"remark"}),a(p,{control:m,id:"remark",name:"remark",render:({field:e})=>a(u,{...e,onChange:n,value:t.remark,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.remark===null})})})]}),s("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"status",children:"Status"}),s("select",{name:"status",onChange:n,value:t.status,className:"form-control",children:[a("option",{value:"Active",children:"Active"}),a("option",{value:"Inactive",children:"Inactive"})]})]}),s("div",{className:"d-flex",children:[a(v,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(v,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:B,children:"Reset"}),a(v,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{ee as default};
