import{G as J,aI as Y,h as b,r as p,o as n,an as F,j as a,ao as A,af as B,ap as E,ah as R,a8 as o,aa as i,k as u,a1 as f,al as _}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as q,C as c}from"./index.esm.88676979.js";import{b as O}from"./App.13c64db0.js";import{g as U,u as L}from"./ApplyForJobActionCreators.535bbc60.js";import{g as V}from"./CenterActionCreators.d9bf0dbf.js";import{g as $}from"./CourseActionCreators.1947fb33.js";const D=()=>{let d=O(),y=J(),{_id:N}=Y(),v=b(e=>e.CourseStateData),g=b(e=>e.CenterStateData),[l,h]=p.exports.useState({name:"",phone:"",email:"",course:"",center:"",jobType:"",linkedinProfile:"",aboutYourself:"",aboutCourse:"",status:"",remark:""}),C=b(e=>e.ApplyForJobStateData);const[r,k]=p.exports.useState("");let[S,x]=p.exports.useState(""),{reset:G,handleSubmit:H,control:t}=q({defaultValues:l});function I(e){x(e.target.files[0])}const j=()=>{if(k(l),l.name){var e=new FormData;e.append("name",l.name),e.append("email",l.email),e.append("phone",l.phone),e.append("course",l.course),e.append("center",l.center),e.append("jobType",l.jobType),e.append("linkedinProfile",l.linkedinProfile),e.append("aboutYourself",l.aboutYourself),e.append("aboutCourse",l.aboutCourse),e.append("resume",S),e.append("remark",l.remark),e.append("status",l.status),e.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),e.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),e.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),d(L({data:e,_id:N})),_(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Job Enquiry is Updated!!!"})})})),y("/apps/apply-for-job")}},P=()=>{h({name:"",phone:"",email:"",course:"",center:"",jobType:"",linkedProfile:"",aboutYourself:"",aboutCourse:"",status:"",remark:""})};function s(e){let m=e.target.name,T=e.target.value;h(w=>({...w,[m]:T}))}return p.exports.useEffect(()=>{d(U());let e=C.find(m=>m._id===N);e&&h({name:e.name,phone:e.phone,email:e.email,jobType:e.jobType,linkedinProfile:e.linkedinProfile,aboutYourself:e.aboutYourself,aboutCourse:e.aboutCourse,center:e.center,course:e.course,remark:e.remark,status:e.status}),d(V()),d($())},[C.length,v.length,g.length]),n(F,{children:[a(A,{children:a(B,{tag:"h4",className:"text-center",children:"Update Apply for Job Enquiry"})}),a(E,{children:n(R,{onSubmit:j,children:[n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"name",children:"Name"}),a(c,{control:t,id:"name",name:"name",render:({field:e})=>a(i,{...e,onChange:s,value:l.name,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.name===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"phone",children:"Phone"}),a(c,{control:t,id:"phone",name:"phone",render:({field:e})=>a(i,{...e,onChange:s,value:l.phone,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.phone===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"email",children:"Email"}),a(c,{control:t,id:"email",name:"email",render:({field:e})=>a(i,{...e,onChange:s,value:l.email,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.email===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"jobType",children:"Job Type"}),a(c,{control:t,id:"jobType",name:"jobType",render:({field:e})=>a(i,{...e,onChange:s,value:l.jobType,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.jobType===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"linkedinProfile",children:"Linkedin Profile"}),a(c,{control:t,id:"linkedinProfile",name:"linkedinProfile",render:({field:e})=>a(i,{...e,onChange:s,value:l.linkedinProfile,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.linkedinProfile===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"aboutYourself",children:"About Your Self"}),a(c,{control:t,id:"aboutYourself",name:"aboutYourself",render:({field:e})=>a(i,{...e,type:"textarea",onChange:s,value:l.aboutYourself,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.aboutYourself===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"aboutCourse",children:"About Course"}),a(c,{control:t,id:"aboutCourse",name:"aboutCourse",render:({field:e})=>a(i,{...e,type:"textarea",onChange:s,value:l.aboutCourse,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.aboutCourse===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"resume",children:"Job Type"}),a("input",{type:"file",name:"resume",onChange:I,className:"form-control"})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"course",children:"Course"}),a("select",{name:"course",onChange:s,value:l.course,className:"form-control",children:v.map((e,m)=>a("option",{value:e.title,children:e.title},m))})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"center",children:"Center"}),a("select",{name:"center",onChange:s,value:l.center,className:"form-control",children:g.map((e,m)=>a("option",{value:e.title,children:e.title},m))})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"remark",children:"remark"}),a(c,{control:t,id:"remark",name:"remark",render:({field:e})=>a(i,{...e,onChange:s,value:l.remark,options:{allowInput:!0},className:u("form-control",{"is-invalid":r!==null&&r.remark===null})})})]}),n("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"status",children:"Status"}),n("select",{name:"status",onChange:s,value:l.status,className:"form-control",children:[a("option",{value:"Active",children:"Active"}),a("option",{value:"Inactive",children:"Inactive"})]})]}),n("div",{className:"d-flex",children:[a(f,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(f,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:P,children:"Reset"}),a(f,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{D as default};
