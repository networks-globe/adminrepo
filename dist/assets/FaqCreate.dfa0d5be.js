import{r as i,G as q,h as w,o as t,an as I,j as a,ao as F,af as O,ap as B,ah as D,a8 as l,aa as n,a1 as c,al as k}from"./index.7ed68957.js";import{S as p}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as j,C as o}from"./index.esm.88676979.js";import{b as A,s as h}from"./App.13c64db0.js";import{a as J}from"./FaqActionCreators.ea820847.js";import{g as R}from"./FaqCategoryActionCreators.25da5af5.js";import"./toConsumableArray.917c2683.js";let E=[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],P={question:"",answer:"",status:"",sort:0,category:""},K=()=>{var[f,g]=i.exports.useState([]),m=A(),v=q(),u=w(e=>e.FaqCategoryStateData);let[T,y]=i.exports.useState(null),{reset:N,setError:b,handleSubmit:S,control:r,formState:{errors:s}}=j({defaultValues:P}),C=e=>{if(y(e),console.log(e),e.question)m(J({question:e.question,answer:e.answer,status:e.status.value,sortOrder:e.sort,category:e.category.value,addByName:JSON.parse(localStorage.getItem("userData")).name,addByRole:JSON.parse(localStorage.getItem("userData")).role,addById:JSON.parse(localStorage.getItem("userData"))._id})),k(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Faq is Created!!!"})})})),v("/apps/faq");else for(let d in e)e[d]===""&&b(d,{type:"manual"})},x=()=>{N({question:null,answer:null,status:null,sort:0,category:""})};return i.exports.useEffect(()=>{m(R()),g(u.map(e=>({value:e.name,label:e.name})))},[u.length]),t(I,{children:[a(F,{children:a(O,{tag:"h4",className:"text-center",children:"Create a New Faq"})}),a(B,{children:t(D,{onSubmit:S(C),children:[t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"name",children:"Question"}),a(o,{control:r,id:"question",name:"question",render:({field:e})=>a(n,{...e,options:{allowInput:!0},invalid:s.question&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"answer",children:"Answer"}),a(o,{control:r,id:"answer",name:"answer",render:({field:e})=>a(n,{...e,type:"textarea",options:{allowInput:!0},invalid:s.answer&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"sort",children:"Sort Order"}),a(o,{control:r,id:"sort",name:"sort",render:({field:e})=>a(n,{...e,options:{allowInput:!0},invalid:s.sort&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"status",children:"Category"}),a(o,{id:"category",control:r,name:"category",render:({field:e})=>a(p,{...e,isClearable:!0,options:f,classNamePrefix:"select",theme:h,invalid:s.category&&!0})})]}),t("div",{className:"mb-1",children:[a(l,{className:"form-label",for:"status",children:"Select Status"}),a(o,{id:"status",control:r,name:"status",render:({field:e})=>a(p,{...e,isClearable:!0,options:E,classNamePrefix:"select",theme:h,invalid:s.status&&!0})})]}),t("div",{className:"d-flex",children:[a(c,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(c,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:x,children:"Reset"}),a(c,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{K as default};
