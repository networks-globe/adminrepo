import{h as Y,r as d,o as r,an as F,j as t,af as L,ao as _,ap as M,ac as A,ad as S,a8 as U,aa as k,U as T,D,L as y,B as V,C as B,E as j}from"./index.7ed68957.js";import{S as Q}from"./react-select.esm.67b469f7.js";import{Q as G,R as K}from"./app-users.9834fa95.js";import{b as X,s as Z,d as ee,S as te,M as ae,E as le,e as se,T as re}from"./App.13c64db0.js";import{g as ne,d as ie}from"./ApplyForJobActionCreators.535bbc60.js";import"./toConsumableArray.917c2683.js";let oe=({mainData:o,handlePerPage:a,rowsPerPage:s,handleFilter:v,searchTerm:h})=>{function P(n){let l,c=",",u=`
`,N=Object.keys(o[0]);return l="",l+=N.join(c),l+=u,n.forEach(m=>{let w=0;N.forEach(b=>{w>0&&(l+=c),l+=m[b],w++}),l+=u}),l}function g(n){let l=document.createElement("a"),c=P(n);if(c===null)return;let u="export.csv";c.match(/^data:text\/csv/i)||(c=`data:text/csv;charset=utf-8,${c}`),l.setAttribute("href",encodeURI(c)),l.setAttribute("download",u),l.click()}return t("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:r(A,{children:[t(S,{xl:"6",className:"d-flex align-items-center p-0",children:r("div",{className:"d-flex align-items-center w-100",children:[t("label",{htmlFor:"rows-per-page",children:"Show"}),r(k,{className:"mx-50",type:"select",id:"rows-per-page",value:s,onChange:a,style:{width:"5rem"},children:[t("option",{value:"10",children:"10"}),t("option",{value:"25",children:"25"}),t("option",{value:"50",children:"50"})]}),t("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),r(S,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[r("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[t("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),t(k,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:h,onChange:n=>v(n.target.value)})]}),r("div",{className:"d-flex align-items-center table-header-actions",children:[t(T,{className:"me-1",children:r(D,{color:"secondary",caret:!0,outline:!0,children:[t(te,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",onClick:()=>g(o),children:"Excel"})]})}),t(y,{className:"btn btn-primary add-new-user",to:"/apps/apply-for-job/create",children:"Add New Job Enquiry"})]})]})]})})},ce=(o,a,s)=>o.slice((s-1)*a,s*a);function C(o,a){var s=[];return a.status===""?s=o:s=o.filter(v=>v.status.toLowerCase()===a.status.toLowerCase()),ce(s,a.perPage,a.page)}let ue=()=>{let o=X(),a=Y(e=>e.ApplyForJobStateData),[s,v]=d.exports.useState("desc"),[h,P]=d.exports.useState(""),[g,n]=d.exports.useState([]),[l,c]=d.exports.useState(1),[u,N]=d.exports.useState("id"),[m,w]=d.exports.useState(10),[b,de]=d.exports.useState({value:"",label:"Select Role"}),[f,me]=d.exports.useState({value:"",label:"Select Plan"}),[x,z]=d.exports.useState({value:"",label:"Select Status",number:0});d.exports.useEffect(()=>{o(ne()),n(C(a,{sort:s,sortColumn:u,q:h,page:l,perPage:m,role:b.value,status:x.value,currentPlan:f.value}))},[o,a.length,s,u,l]);let W=[{value:"",label:"Select Status",number:0},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3}],E=e=>{n(C(a,{sort:s,sortColumn:u,q:h,perPage:m,page:e.selected+1,role:b.value,status:x.value,currentPlan:f.value})),c(e.selected+1)},R=e=>{let i=parseInt(e.currentTarget.value);n(C(a,{sort:s,sortColumn:u,q:h,perPage:i,page:l,role:b.value,currentPlan:f.value,status:x.value})),w(i)},q=e=>{P(e);var i=a.filter(p=>{if(p.name.toLowerCase().includes(e.toLowerCase())||p.phone.toLowerCase().includes(e.toLowerCase())||p.email.toLowerCase().includes(e.toLowerCase())||p.subject.toLowerCase().includes(e.toLowerCase())||p.message.toLowerCase().includes(e.toLowerCase())||p.course.toLowerCase().includes(e.toLowerCase())||p.center.toLowerCase().includes(e.toLowerCase()))return p});n(i)},I=()=>{let e=Number(Math.floor(a.length/m));return a.length%m!==0&&e++,t(K,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:l!==0?l-1:0,onPageChange:i=>E(i),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},J=()=>{let e={role:b.value,currentPlan:f.value,status:x.value,q:h},i=Object.keys(e).some(function(p){return e[p].length>0});return g.length>0?g:g.length===0&&i?[]:g.slice(0,m)},O=(e,i)=>{v(i),N(e.sortField),n(C(a,{sort:s,sortColumn:u,q:h,page:l,perPage:m,role:b.value,status:x.value,currentPlan:f.value}))},$={Pending:"light-warning",Active:"light-success",Inactive:"light-danger"},H=[{name:"Name",sortable:!0,minWidth:"140px",sortField:"name",selector:e=>e.name,cell:e=>t("span",{className:"text-capitalize",children:e.name})},{name:"Phone",sortable:!0,minWidth:"130px",sortField:"phone",selector:e=>e.phone,cell:e=>t("span",{className:"text-capitalize",children:e.phone})},{name:"Email",sortable:!0,minWidth:"250px",sortField:"email",selector:e=>e.email,cell:e=>t("span",{className:"text-capitalize",children:e.email})},{name:"Course",sortable:!0,minWidth:"300px",sortField:"course",selector:e=>e.course,cell:e=>t("span",{className:"text-capitalize",children:e.course})},{name:"Center",sortable:!0,minWidth:"130px",sortField:"center",selector:e=>e.center,cell:e=>t("span",{className:"text-capitalize",children:e.center})},{name:"Job Type",sortable:!0,minWidth:"200px",sortField:"jobType",selector:e=>e.jobType,cell:e=>t("span",{className:"text-capitalize",children:e.jobType&&e.jobType.slice(0,50)+"..."})},{name:"Linkedin Profile",sortable:!0,minWidth:"200px",sortField:"linkedinProfile",selector:e=>e.linkedinProfile,cell:e=>t("span",{className:"text-capitalize",children:e.linkedinProfile&&e.linkedinProfile.slice(0,50)+"..."})},{name:"About Yourself",sortable:!0,minWidth:"200px",sortField:"aboutYourself",selector:e=>e.aboutYourself,cell:e=>t("span",{className:"text-capitalize",children:e.aboutYourself&&e.aboutYourself.slice(0,50)+"..."})},{name:"About Course",sortable:!0,minWidth:"200px",sortField:"aboutCourse",selector:e=>e.aboutCourse,cell:e=>t("span",{className:"text-capitalize",children:e.aboutCourse&&e.aboutCourse.slice(0,50)+"..."})},{name:"Resume",sortable:!0,minWidth:"200px",sortField:"resume",selector:e=>e.resume,cell:e=>e.resume?t("a",{href:`/resume/${e.resume}`,target:"_blank",children:"Download Resume"}):t("p",{children:"N/A"})},{name:"Remark",minWidth:"300px",sortable:!0,sortField:"remark",selector:e=>e.remark,cell:e=>t("span",{className:"text-capitalize",children:e.remark})},{name:"status",minWidth:"138px",sortable:!0,sortField:"status",selector:e=>e.status,cell:e=>t(V,{className:"text-capitalize",color:$[e.status],pill:!0,children:e.status})},{name:"Actions",minWidth:"100px",cell:e=>t("div",{className:"column-action",children:r(T,{children:[t(D,{tag:"div",className:"btn btn-sm",children:t(ae,{size:14,className:"cursor-pointer"})}),r(B,{children:[t(j,{className:"w-100",children:r(y,{to:"/apps/apply-for-job/show/"+e._id,children:[t(le,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"View"})]})}),r(y,{to:"/apps/apply-for-job/update/"+e._id,className:"p-1",children:["\xA0",t(se,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Edit"})]}),r(j,{className:"w-100",onClick:i=>{i.preventDefault(),o(ie({_id:e._id}))},children:[t(re,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Delete"})]})]})]})})}];return r(d.exports.Fragment,{children:[r(F,{children:[t(L,{tag:"h3",className:"text-center pt-2",children:"Contact Us Query"}),t(_,{children:t(L,{tag:"h4",children:"Filters"})}),t(M,{children:t(A,{children:r(S,{md:"4",children:[t(U,{for:"status-select",children:"Status"}),t(Q,{theme:Z,isClearable:!1,className:"react-select",classNamePrefix:"select",options:W,value:x,onChange:e=>{z(e),c(1),n(C(a,{sort:s,sortColumn:u,q:h,page:1,status:e.value,perPage:m,role:b.value,currentPlan:f.value}))}})]})})})]}),t(F,{className:"overflow-hidden",children:t("div",{className:"react-dataTable",children:t(G,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:H,onSort:O,sortIcon:t(ee,{}),className:"react-dataTable",paginationComponent:I,data:J(),subHeaderComponent:t(oe,{mainData:g,searchTerm:h,rowsPerPage:m,handleFilter:q,handlePerPage:R})})})})]})},ve=()=>t("div",{className:"app-user-list",children:t(ue,{})});export{ve as default};
