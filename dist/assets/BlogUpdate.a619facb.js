import{G,aI as K,r as u,h as j,o as s,an as P,j as e,ao as q,af as z,ap as Q,ah as X,a8 as o,aa as c,k as d,ad as B,a1 as v,al as Y}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as Z,C as m}from"./index.esm.88676979.js";import{h as D,D as p,r as F,c as O}from"./form-quill-editor.f7579e23.js";import{b as ee}from"./App.13c64db0.js";import{g as ae,u as te}from"./BlogActionCreators.06f29a4a.js";import{g as re}from"./BlogCategoryActionCreators.d33bb95a.js";import"./toConsumableArray.917c2683.js";const pe=()=>{var f=ee(),E=G(),{_id:N}=K(),[t,b]=u.exports.useState({title:"",blogcategory:"",shortdescription:"",longdescription:"",status:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:"",sortOrder:0,remark:""}),[T,M]=u.exports.useState(""),[H,A]=u.exports.useState("");let J=D(""),L=p.ContentState.createFromBlockArray(J.contentBlocks),h=p.EditorState.createWithContent(L),[y,C]=u.exports.useState(h),[S,w]=u.exports.useState(h);var k=j(a=>a.BlogStateData),x=j(a=>a.BlogCategoryStateData);const[l,R]=u.exports.useState("");let{reset:U,handleSubmit:W,control:n}=Z({defaultValues:t});const _=a=>{if(R(a),t.title){var r=new FormData;r.append("title",t.title),r.append("blogcategory",t.blogcategory),r.append("shortdescription",O(y.getCurrentContent())),r.append("longdescription",O(S.getCurrentContent())),r.append("sortOrder",t.sortOrder),r.append("image",T),r.append("featureimage",H),r.append("seourl",t.seourl),r.append("metatitle",t.metatitle),r.append("metakeywords",t.metakeywords),r.append("metadescription",t.metadescription),r.append("metasection",t.metasection),r.append("headcss",t.headcss),r.append("footercss",t.footercss),r.append("headjs",t.headjs),r.append("footerjs",t.footerjs),r.append("remark",t.remark),r.append("status",t.status),r.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),r.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),r.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),f(te({data:r,_id:N})),Y(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Blog is Updated!!!"})})})),E("/apps/blog")}};function I(a){var r=a.target.name,g=a.target.files[0];r==="image"?M(g):A(g)}const V=()=>{U({title:"",blogcategory:"",shortdescription:"",longdescription:"",status:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:"",sortOrder:0,remark:""})};function i(a){var{name:r,value:g}=a.target;b($=>({...$,[r]:g}))}return u.exports.useEffect(()=>{f(ae()),f(re());var a=k.find(r=>r._id===N);a&&(b({...a}),h=p.EditorState.createWithContent(p.ContentState.createFromBlockArray(p.convertFromHTML(a.shortdescription))),C(h),h=p.EditorState.createWithContent(p.ContentState.createFromBlockArray(p.convertFromHTML(a.longdescription))),w(h))},[k.length,x.length]),s(P,{children:[e(q,{children:e(z,{tag:"h4",className:"text-center",children:"Update Blog"})}),e(Q,{children:s(X,{onSubmit:W(_),children:[s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"title",children:"Title"}),e(m,{control:n,id:"title",name:"title",render:({field:a})=>e(c,{...a,onChange:i,value:t.title,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.title===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"status",children:"Blog Category"}),e("select",{name:"blogcategory",onChange:i,value:t.blogcategory,className:"form-control",children:x.map((a,r)=>e("option",{value:a.title,children:a.title},r))})]}),s("div",{className:"row mb-1",children:[s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"image",children:"Image"}),e(m,{control:n,id:"image",name:"image",render:({field:a})=>e(c,{...a,type:"file",onChange:I,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.image===null})})})]}),s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"featureimage",children:"Feature Image"}),e(m,{control:n,id:"featureimage",name:"featureimage",render:({field:a})=>e(c,{...a,type:"file",onChange:I,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.featureimage===null})})})]})]}),e("div",{className:"mb-1",children:s(B,{sm:"12",className:"mb-2",children:[e(o,{className:"form-label",children:"Short Description"}),e(F.exports.Editor,{editorState:y,onEditorStateChange:a=>C(a)})]})}),e("div",{className:"mb-1",children:s(B,{sm:"12",className:"mb-2",children:[e(o,{className:"form-label",children:"Long Description"}),e(F.exports.Editor,{editorState:S,onEditorStateChange:a=>w(a)})]})}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"seourl",children:"SEO Url"}),e(m,{control:n,id:"seourl",name:"seourl",render:({field:a})=>e(c,{...a,onChange:i,value:t.seourl,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.seourl===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metatitle",children:"Meta Title"}),e(m,{control:n,id:"metatitle",name:"metatitle",render:({field:a})=>e(c,{...a,onChange:i,value:t.metatitle,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.metatitle===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metakeywords",children:"Meta Keywords"}),e(m,{control:n,id:"metakeywords",name:"metakeywords",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.metakeywords,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.metakeywords===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metadescription",children:"Meta Description"}),e(m,{control:n,id:"metadescription",name:"metadescription",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.metadescription,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.metadescription===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metasection",children:"Meta Section"}),e(m,{control:n,id:"metasection",name:"metasection",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.metasection,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.metasection===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"headcss",children:"Head CSS"}),e(m,{control:n,id:"headcss",name:"headcss",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.headcss,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.headcss===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"headjs",children:"Head JS"}),e(m,{control:n,id:"headjs",name:"headjs",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.headjs,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.headjs===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"footercss",children:"Footer CSS"}),e(m,{control:n,id:"footercss",name:"footercss",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.footercss,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.footercss===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"footerjs",children:"Footer Js"}),e(m,{control:n,id:"footerjs",name:"footerjs",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.footerjs,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.footerjs===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"title",children:"Sort Order"}),e(m,{control:n,id:"sortOrder",name:"sortOrder",render:({field:a})=>e(c,{...a,onChange:i,value:t.sortOrder|0,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.sortOrder===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"status",children:"Select Status"}),s("select",{name:"status",onChange:i,value:t.status,className:"form-control",children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"remark",children:"Remark"}),e(m,{control:n,id:"remark",name:"remark",render:({field:a})=>e(c,{...a,type:"textarea",onChange:i,value:t.remark,options:{allowInput:!0},className:d("form-control",{"is-invalid":l!==null&&l.remark===null})})})]}),s("div",{className:"d-flex",children:[e(v,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(v,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:V,children:"Reset"}),e(v,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{pe as default};
