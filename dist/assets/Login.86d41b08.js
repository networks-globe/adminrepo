import{r as h,o as l,j as e,a8 as g,a9 as T,k as y,aa as N,ab as j,p as i,G as S,T as P,ac as D,L as k,ad as b,ae as L,af as z,ag as A,ah as R,ai as G,a1 as V,aj as q,ak as O,al as E}from"./index.7ed68957.js";import{E as U,a as $,u as H,b as M,g as W,A as X,C as Y,X as _}from"./App.13c64db0.js";import{u as J,C}from"./index.esm.88676979.js";/* empty css                            */const w=h.exports.forwardRef((r,o)=>{const{label:n,hideIcon:m,showIcon:d,visible:f,className:t,htmlFor:p,placeholder:a,iconSize:s,inputClassName:c,invalid:u,...B}=r,[x,F]=h.exports.useState(f),I=()=>{const v=s||14;return x===!1?m||e(U,{size:v}):d||e($,{size:v})};return l(h.exports.Fragment,{children:[n?e(g,{className:"form-label",for:p,children:n}):null,l(T,{className:y({[t]:t,"is-invalid":u}),children:[e(N,{ref:o,invalid:u,type:x===!1?"password":"text",placeholder:a||"\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7",className:y({[c]:c}),...n&&p?{id:p}:{},...B}),e(j,{className:"cursor-pointer",onClick:()=>F(!x),children:I()})]})]})});w.propTypes={invalid:i.exports.bool,hideIcon:i.exports.node,showIcon:i.exports.node,visible:i.exports.bool,className:i.exports.string,placeholder:i.exports.string,iconSize:i.exports.number,inputClassName:i.exports.string,label(r,o){if(r[o]&&r.htmlFor==="undefined")throw new Error("htmlFor prop is required when label prop is present")},htmlFor(r,o){if(r[o]&&r.label==="undefined")throw new Error("label prop is required when htmlFor prop is present")}};w.defaultProps={visible:!1};const K=({t:r,name:o,role:n})=>l("div",{className:"d-flex",children:[e("div",{className:"me-1",children:e(X,{size:"sm",color:"success",icon:e(Y,{size:12})})}),l("div",{className:"d-flex flex-column",children:[l("div",{className:"d-flex justify-content-between",children:[e("h6",{children:o}),e(_,{size:12,className:"cursor-pointer",onClick:()=>E.dismiss(r.id)})]}),l("span",{children:["You have successfully logged in as an ",n," to Ducat India Admin Panel. Now you can start to explore. Enjoy!"]})]})]}),Q={password:"",loginEmail:""},le=()=>{H();const r=M(),o=S(),n=h.exports.useContext(P),{control:m,setError:d,handleSubmit:f,formState:{errors:t}}=J({defaultValues:Q});return e("div",{className:"auth-wrapper auth-cover",children:l(D,{className:"auth-inner m-0",children:[e(k,{className:"brand-logo",to:"/",onClick:a=>a.preventDefault()}),e(b,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:e("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:e("img",{className:"img-fluid",src:L,alt:"Login Cover"})})}),e(b,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:l(b,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[e(z,{tag:"h2",className:"fw-bold mb-1",children:"Welcome to Ducat India Admin Panel!!  ! \u{1F44B}"}),e(A,{className:"mb-2",children:"Please sign-in to your Account"}),l(R,{className:"auth-login-form mt-2",onSubmit:f(a=>{if(Object.values(a).every(s=>s.length>0))q.login({email:a.loginEmail,password:a.password}).then(s=>{let c={...s.data.userData,accessToken:s.data.accessToken,refreshToken:s.data.refreshToken};r(O(c)),n.update(s.data.userData.ability),o(W(s.data.userData.role)),E(u=>e(K,{t:u,role:c.role||"admin",name:c.name||c.email}))}).catch(s=>d("loginEmail",{type:"manual",message:"Invalid UserName or Password!!!"}));else for(const s in a)a[s].length===0&&d(s,{type:"manual"})}),children:[l("div",{className:"mb-1",children:[e(g,{className:"form-label",for:"login-email",children:"Email"}),e(C,{id:"loginEmail",name:"loginEmail",control:m,render:({field:a})=>e(N,{autoFocus:!0,type:"email",placeholder:"john@example.com",invalid:t.loginEmail&&!0,...a})}),t.loginEmail&&e(G,{children:t.loginEmail.message})]}),l("div",{className:"mb-1",children:[l("div",{className:"d-flex justify-content-between",children:[e(g,{className:"form-label",for:"login-password",children:"Password"}),e(k,{to:"/forgot-password",children:e("small",{children:"Forgot Password?"})})]}),e(C,{id:"password",name:"password",control:m,render:({field:a})=>e(w,{className:"input-group-merge",invalid:t.password&&!0,...a})})]}),l("div",{className:"form-check mb-1",children:[e(N,{type:"checkbox",id:"remember-me"}),e(g,{className:"form-check-label",for:"remember-me",children:"Remember Me"})]}),e(V,{type:"submit",color:"primary",block:!0,children:"Sign in"})]})]})})]})})};export{le as default};
