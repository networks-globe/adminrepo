import{G as D,r as i,h as v,o as r,an as E,j as a,ao as B,af as q,ap as P,ah as j,a8 as s,aa as o,a1 as c,al as H}from"./index.7ed68957.js";import{S as u}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as J,C as n}from"./index.esm.88676979.js";import{b as R,s as d}from"./App.13c64db0.js";import{a as A}from"./HomeEnquiryActionCreators.34fa7b6c.js";import{g as F}from"./CenterActionCreators.d9bf0dbf.js";import{g as T}from"./CourseActionCreators.1947fb33.js";import"./toConsumableArray.917c2683.js";let _=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],$={name:"",phone:"",email:"",course:"",center:"",status:"",remark:""},Y=()=>{let m=R(),N=D(),[b,S]=i.exports.useState([]),[C,g]=i.exports.useState([]),p=v(e=>e.CourseStateData),h=v(e=>e.CenterStateData),[G,x]=i.exports.useState(null),{reset:y,setError:k,handleSubmit:I,control:t,formState:{errors:l}}=J({defaultValues:$}),w=e=>{if(x(e),e.name)m(A({name:e.name,phone:e.phone,email:e.email,course:e.course.value,center:e.center.value,remark:e.remark,status:e.status.value,addByName:JSON.parse(localStorage.getItem("userData")).name,addByRole:JSON.parse(localStorage.getItem("userData")).role,addById:JSON.parse(localStorage.getItem("userData"))._id})),H(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Enquiry is Created!!!"})})})),N("/apps/enquiries");else for(let f in e)e[f]===""&&k(f,{type:"manual"})},O=()=>{y({name:"",phone:"",email:"",course:"",center:"",status:"",remark:""})};return i.exports.useEffect(()=>{m(F()),m(T()),S(h.map(e=>({value:e.title,label:e.title,name:"center"}))),g(p.map(e=>({value:e.title,label:e.title,name:"course"})))},[p.length,h.length]),r(E,{children:[a(B,{children:a(q,{tag:"h4",className:"text-center",children:"Create a New Enquiry"})}),a(P,{children:r(j,{onSubmit:I(w),children:[r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"name",children:"Name"}),a(n,{control:t,id:"name",name:"name",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.name&&!0})})]}),r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"phone",children:"Phone"}),a(n,{control:t,id:"phone",name:"phone",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.phone&&!0})})]}),r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"email",children:"Email"}),a(n,{control:t,id:"email",name:"email",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.email&&!0})})]}),r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"course",children:"Course"}),a(n,{id:"course",control:t,name:"course",render:({field:e})=>a(u,{...e,isClearable:!0,options:C,classNamePrefix:"select",theme:d,invalid:l.course&&!0})})]}),r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"center",children:"Center"}),a(n,{id:"center",control:t,name:"center",render:({field:e})=>a(u,{...e,isClearable:!0,options:b,classNamePrefix:"select",theme:d,invalid:l.center&&!0})})]}),r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"remark",children:"remark"}),a(n,{control:t,id:"remark",name:"remark",render:({field:e})=>a(o,{...e,options:{allowInput:!0},invalid:l.remark&&!0})})]}),r("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"status",children:"Status"}),a(n,{id:"status",control:t,name:"status",render:({field:e})=>a(u,{...e,isClearable:!0,options:_,classNamePrefix:"select",theme:d,invalid:l.status&&!0})})]}),r("div",{className:"d-flex",children:[a(c,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(c,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:O,children:"Reset"}),a(c,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{Y as default};
