import{G as U,aI as w,h as p,r as f,o as t,an as B,j as a,ao as _,af as E,ap as F,ah as J,a8 as n,aa as m,k as i,a1 as g,al as O}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as R,C as u}from"./index.esm.88676979.js";import{b as A}from"./App.13c64db0.js";import{g as P,u as Q}from"./ContactUsActionCreators.440c59d6.js";import{g as V}from"./CenterActionCreators.d9bf0dbf.js";import{g as $}from"./CourseActionCreators.1947fb33.js";const W=()=>{let d=A(),S=U(),{_id:N}=w(),v=p(e=>e.CourseStateData),b=p(e=>e.CenterStateData),[s,h]=f.exports.useState({name:"",phone:"",email:"",subject:"",message:"",course:"",center:"",status:"",remark:""}),C=p(e=>e.ContactUsStateData);const[l,k]=f.exports.useState("");let{reset:q,handleSubmit:j,control:c}=R({defaultValues:s});const x=e=>{k(e),s.name&&(d(Q({_id:N,name:s.name,phone:s.phone,email:s.email,subject:s.subject,message:s.message,course:s.course,center:s.center,remark:s.remark,status:s.status,updateByName:JSON.parse(localStorage.getItem("userData")).name,updateByRole:JSON.parse(localStorage.getItem("userData")).role,updateById:JSON.parse(localStorage.getItem("userData"))._id})),O(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Contact Us Query is Updated!!!"})})})),S("/apps/contact-us"))},y=()=>{h({name:"",phone:"",email:"",subject:"",message:"",course:"",center:"",status:"",remark:"",email:""})};function r(e){let o=e.target.name,I=e.target.value;h(D=>({...D,[o]:I}))}return f.exports.useEffect(()=>{d(P());let e=C.find(o=>o._id===N);e&&h({name:e.name,phone:e.phone,email:e.email,subject:e.subject,message:e.message,center:e.center,course:e.course,remark:e.remark,status:e.status}),d(V()),d($())},[C.length,v.length,b.length]),t(B,{children:[a(_,{children:a(E,{tag:"h4",className:"text-center",children:"Update Contact Us Query"})}),a(F,{children:t(J,{onSubmit:j(x),children:[t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"name",children:"Name"}),a(u,{control:c,id:"name",name:"name",render:({field:e})=>a(m,{...e,onChange:r,value:s.name,options:{allowInput:!0},className:i("form-control",{"is-invalid":l!==null&&l.name===null})})})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"phone",children:"Phone"}),a(u,{control:c,id:"phone",name:"phone",render:({field:e})=>a(m,{...e,onChange:r,value:s.phone,options:{allowInput:!0},className:i("form-control",{"is-invalid":l!==null&&l.phone===null})})})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"email",children:"Email"}),a(u,{control:c,id:"email",name:"email",render:({field:e})=>a(m,{...e,onChange:r,value:s.email,options:{allowInput:!0},className:i("form-control",{"is-invalid":l!==null&&l.email===null})})})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"subject",children:"Subject"}),a(u,{control:c,id:"subject",name:"subject",render:({field:e})=>a(m,{...e,onChange:r,value:s.subject,options:{allowInput:!0},className:i("form-control",{"is-invalid":l!==null&&l.subject===null})})})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"message",children:"Message"}),a(u,{control:c,id:"message",name:"message",render:({field:e})=>a(m,{...e,type:"textarea",onChange:r,value:s.message,options:{allowInput:!0},className:i("form-control",{"is-invalid":l!==null&&l.message===null})})})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"course",children:"Course"}),a("select",{name:"course",onChange:r,value:s.course,className:"form-control",children:v.map((e,o)=>a("option",{value:e.title,children:e.title},o))})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"center",children:"Center"}),a("select",{name:"center",onChange:r,value:s.center,className:"form-control",children:b.map((e,o)=>a("option",{value:e.title,children:e.title},o))})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"remark",children:"remark"}),a(u,{control:c,id:"remark",name:"remark",render:({field:e})=>a(m,{...e,onChange:r,value:s.remark,options:{allowInput:!0},className:i("form-control",{"is-invalid":l!==null&&l.remark===null})})})]}),t("div",{className:"mb-1",children:[a(n,{className:"form-label",for:"status",children:"Status"}),t("select",{name:"status",onChange:r,value:s.status,className:"form-control",children:[a("option",{value:"Active",children:"Active"}),a("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"d-flex",children:[a(g,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(g,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:y,children:"Reset"}),a(g,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{W as default};
