import{G as A,aI as H,r as u,h as J,o as l,an as R,j as e,ao as U,af as _,ap as L,ah as W,a8 as n,aa as d,k as c,ad as V,a1 as v,al as $}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as G,C as m}from"./index.esm.88676979.js";import{h as K,D as h,r as P,c as q}from"./form-quill-editor.f7579e23.js";import{b as z}from"./App.13c64db0.js";import{g as Q,u as X}from"./CenterActionCreators.d9bf0dbf.js";import"./toConsumableArray.917c2683.js";const le=()=>{var N=z(),w=A(),{_id:g}=H(),[t,b]=u.exports.useState({title:"",address:"",description:"",status:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:"",sortOrder:0,remark:""}),[k,x]=u.exports.useState("");let I=K(""),j=h.ContentState.createFromBlockArray(I.contentBlocks),f=h.EditorState.createWithContent(j),[C,y]=u.exports.useState(f);var S=J(a=>a.CenterStateData);const[s,O]=u.exports.useState("");let{reset:B,handleSubmit:Y,control:o}=G({defaultValues:t});const F=a=>{a.preventDefault(),O(t);let p=q(C.getCurrentContent());if(t.title){var r=new FormData;r.append("title",t.title),r.append("address",t.address),r.append("description",p),r.append("sortOrder",t.sortOrder),r.append("featureimage",k),r.append("seourl",t.seourl),r.append("metatitle",t.metatitle),r.append("metakeywords",t.metakeywords),r.append("metadescription",t.metadescription),r.append("metasection",t.metasection),r.append("headcss",t.headcss),r.append("footercss",t.footercss),r.append("headjs",t.headjs),r.append("footerjs",t.footerjs),r.append("remark",t.remark),r.append("status",t.status),r.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),r.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),r.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),N(X({data:r,_id:g})),$(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Center is Updated!!!"})})})),w("/apps/centers/list")}};function E(a){x(a.target.files[0])}const T=()=>{B({title:"",address:"",description:"",status:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:"",sortOrder:0,remark:""})};function i(a){var{name:p,value:r}=a.target;b(M=>({...M,[p]:r}))}return u.exports.useEffect(()=>{N(Q());var a=S.find(p=>p._id===g);a&&(b({...a}),f=h.EditorState.createWithContent(h.ContentState.createFromBlockArray(h.convertFromHTML(a.description))),y(f))},[S.length]),l(R,{children:[e(U,{children:e(_,{tag:"h4",className:"text-center",children:"Update Center"})}),e(L,{children:l(W,{onSubmit:F,children:[l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"title",children:"Title"}),e(m,{control:o,id:"title",name:"title",render:({field:a})=>e(d,{...a,onChange:i,value:t.title,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.title===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"address",children:"Address"}),e(m,{control:o,id:"address",name:"address",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.address,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.address===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"image",children:"Image"}),e(m,{control:o,id:"image",name:"image",render:({field:a})=>e(d,{...a,type:"file",onChange:E,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.image===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"answer",children:"Content"}),l(V,{sm:"12",className:"mb-2",children:[e(n,{className:"form-label",children:"Description"}),e(P.exports.Editor,{editorState:C,onEditorStateChange:a=>y(a)})]})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"seourl",children:"SEO Url"}),e(m,{control:o,id:"seourl",name:"seourl",render:({field:a})=>e(d,{...a,onChange:i,value:t.seourl,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.seourl===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"metatitle",children:"Meta Title"}),e(m,{control:o,id:"metatitle",name:"metatitle",render:({field:a})=>e(d,{...a,onChange:i,value:t.metatitle,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metatitle===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"metakeywords",children:"Meta Keywords"}),e(m,{control:o,id:"metakeywords",name:"metakeywords",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.metakeywords,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metakeywords===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"metadescription",children:"Meta Description"}),e(m,{control:o,id:"metadescription",name:"metadescription",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.metadescription,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metadescription===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"metasection",children:"Meta Section"}),e(m,{control:o,id:"metasection",name:"metasection",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.metasection,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.metasection===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"headcss",children:"Head CSS"}),e(m,{control:o,id:"headcss",name:"headcss",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.headcss,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.headcss===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"headjs",children:"Head JS"}),e(m,{control:o,id:"headjs",name:"headjs",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.headjs,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.headjs===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"footercss",children:"Footer CSS"}),e(m,{control:o,id:"footercss",name:"footercss",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.footercss,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.footercss===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"footerjs",children:"Footer Js"}),e(m,{control:o,id:"footerjs",name:"footerjs",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.footerjs,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.footerjs===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"title",children:"Sort Order"}),e(m,{control:o,id:"sortOrder",name:"sortOrder",render:({field:a})=>e(d,{...a,onChange:i,value:t.sortOrder|0,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.sortOrder===null})})})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"status",children:"Select Status"}),l("select",{name:"status",onChange:i,value:t.status,className:"form-control",children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),l("div",{className:"mb-1",children:[e(n,{className:"form-label",for:"remark",children:"Remark"}),e(m,{control:o,id:"remark",name:"remark",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:t.remark,options:{allowInput:!0},className:c("form-control",{"is-invalid":s!==null&&s.remark===null})})})]}),l("div",{className:"d-flex",children:[e(v,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(v,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:T,children:"Reset"}),e(v,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{le as default};
