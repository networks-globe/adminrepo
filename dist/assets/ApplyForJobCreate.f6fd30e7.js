import{G as O,r as u,h as N,o as l,an as A,j as a,ao as B,af as F,ap as E,ah as R,a8 as s,aa as i,a1 as c,al as q}from"./index.7ed68957.js";import{S as d}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as L,C as o}from"./index.esm.88676979.js";import{b as _,s as p}from"./App.13c64db0.js";import{a as $}from"./ApplyForJobActionCreators.535bbc60.js";import{g as G}from"./CenterActionCreators.d9bf0dbf.js";import{g as H}from"./CourseActionCreators.1947fb33.js";import"./toConsumableArray.917c2683.js";let V=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],z={name:"",phone:"",email:"",course:"",center:"",jobType:"",linkedinProfile:"",aboutYourself:"",aboutCourse:"",status:"",remark:""},re=()=>{let m=_(),v=O(),[C,y]=u.exports.useState([]),[S,k]=u.exports.useState([]),[g,x]=u.exports.useState(""),b=N(e=>e.CourseStateData),h=N(e=>e.CenterStateData),[K,I]=u.exports.useState(null),{reset:w,setError:P,handleSubmit:j,control:t,formState:{errors:n}}=L({defaultValues:z});function T(e){x(e.target.files[0])}let Y=e=>{if(I(e),e.name){var r=new FormData;r.append("name",e.name),r.append("email",e.email),r.append("phone",e.phone),r.append("course",e.course.value),r.append("center",e.center.value),r.append("jobType",e.jobType),r.append("linkedinProfile",e.linkedinProfile),r.append("aboutYourself",e.aboutYourself),r.append("aboutCourse",e.aboutCourse),r.append("resume",g),r.append("remark",e.remark),r.append("status",e.status.value),r.append("addByName",JSON.parse(localStorage.getItem("userData")).name),r.append("addById",JSON.parse(localStorage.getItem("userData"))._id),r.append("addByRole",JSON.parse(localStorage.getItem("userData")).role),m($(r)),q(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Job Enquiry is Created!!!"})})})),v("/apps/apply-for-job")}else for(let f in e)e[f]===""&&P(f,{type:"manual"})},J=()=>{w({name:"",phone:"",email:"",course:"",center:"",jobType:"",linkedinProfile:"",aboutYourself:"",aboutCourse:"",status:"",remark:""})};return u.exports.useEffect(()=>{m(G()),m(H()),y(h.map(e=>({value:e.title,label:e.title,name:"center"}))),k(b.map(e=>({value:e.title,label:e.title,name:"course"})))},[b.length,h.length]),l(A,{children:[a(B,{children:a(F,{tag:"h4",className:"text-center",children:"Create a New Job Enquiry"})}),a(E,{children:l(R,{onSubmit:j(Y),children:[l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"name",children:"Name"}),a(o,{control:t,id:"name",name:"name",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.name&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"phone",children:"Phone"}),a(o,{control:t,id:"phone",name:"phone",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.phone&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"email",children:"Email"}),a(o,{control:t,id:"email",name:"email",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.email&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"jobType",children:"Job Type"}),a(o,{control:t,id:"jobType",name:"jobType",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.jobType&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"linkedinProfile",children:"Linkedin Profile"}),a(o,{control:t,id:"linkedinProfile",name:"linkedinProfile",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.linkedinProfile&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"aboutYourself",children:"About Your Self"}),a(o,{control:t,id:"aboutYourself",name:"aboutYourself",render:({field:e})=>a(i,{...e,type:"textarea",options:{allowInput:!0},invalid:n.aboutYourself&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"aboutCourse",children:"About Course"}),a(o,{control:t,id:"aboutCourse",name:"aboutCourse",render:({field:e})=>a(i,{...e,type:"textarea",options:{allowInput:!0},invalid:n.aboutCourse&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"resume",children:"Resume"}),a("input",{type:"file",name:"resume",onChange:T,className:"form-control"})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"course",children:"Course"}),a(o,{id:"course",control:t,name:"course",render:({field:e})=>a(d,{...e,isClearable:!0,options:S,classNamePrefix:"select",theme:p,invalid:n.course&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"center",children:"Center"}),a(o,{id:"center",control:t,name:"center",render:({field:e})=>a(d,{...e,isClearable:!0,options:C,classNamePrefix:"select",theme:p,invalid:n.center&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"remark",children:"remark"}),a(o,{control:t,id:"remark",name:"remark",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.remark&&!0})})]}),l("div",{className:"mb-1",children:[a(s,{className:"form-label",for:"status",children:"Status"}),a(o,{id:"status",control:t,name:"status",render:({field:e})=>a(d,{...e,isClearable:!0,options:V,classNamePrefix:"select",theme:p,invalid:n.status&&!0})})]}),l("div",{className:"d-flex",children:[a(c,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(c,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:J,children:"Reset"}),a(c,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{re as default};
