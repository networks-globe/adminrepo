import{G as q,aI as w,h as p,r as f,o as t,an as B,j as a,ao as H,af as _,ap as j,ah as F,a8 as o,aa as c,k as u,a1 as N,al as J}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as O,C as d}from"./index.esm.88676979.js";import{b as R}from"./App.13c64db0.js";import{g as U,u as A}from"./HomeEnquiryActionCreators.34fa7b6c.js";import{g as P}from"./CenterActionCreators.d9bf0dbf.js";import{g as V}from"./CourseActionCreators.1947fb33.js";const W=()=>{let m=R(),y=q(),{_id:v}=w(),g=p(e=>e.CourseStateData),b=p(e=>e.CenterStateData),[r,h]=f.exports.useState({name:"",phone:"",email:"",course:"",center:"",status:"",remark:""}),C=p(e=>e.HomeEnquiryStateData);const[l,k]=f.exports.useState("");let{reset:$,handleSubmit:S,control:i}=O({defaultValues:r});const x=e=>{k(e),r.name&&(m(A({_id:v,name:r.name,phone:r.phone,email:r.email,course:r.course,center:r.center,remark:r.remark,status:r.status,updateByName:JSON.parse(localStorage.getItem("userData")).name,updateByRole:JSON.parse(localStorage.getItem("userData")).role,updateById:JSON.parse(localStorage.getItem("userData"))._id})),J(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Enquiry is Updated!!!"})})})),y("/apps/enquiries"))},I=()=>{h({name:"",phone:"",course:"",email:"",center:"",status:"",remark:""})};function s(e){let n=e.target.name,D=e.target.value;h(E=>({...E,[n]:D}))}return f.exports.useEffect(()=>{m(U());let e=C.find(n=>n._id===v);e&&h({name:e.name,phone:e.phone,email:e.email,center:e.center,course:e.course,remark:e.remark,status:e.status}),m(P()),m(V())},[C.length,g.length,b.length]),t(B,{children:[a(H,{children:a(_,{tag:"h4",className:"text-center",children:"Update Enquiry"})}),a(j,{children:t(F,{onSubmit:S(x),children:[t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"name",children:"Name"}),a(d,{control:i,id:"name",name:"name",render:({field:e})=>a(c,{...e,onChange:s,value:r.name,options:{allowInput:!0},className:u("form-control",{"is-invalid":l!==null&&l.name===null})})})]}),t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"phone",children:"Phone"}),a(d,{control:i,id:"phone",name:"phone",render:({field:e})=>a(c,{...e,onChange:s,value:r.phone,options:{allowInput:!0},className:u("form-control",{"is-invalid":l!==null&&l.phone===null})})})]}),t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"email",children:"Email"}),a(d,{control:i,id:"email",name:"email",render:({field:e})=>a(c,{...e,onChange:s,value:r.email,options:{allowInput:!0},className:u("form-control",{"is-invalid":l!==null&&l.email===null})})})]}),t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"course",children:"Course"}),a("select",{name:"course",onChange:s,value:r.course,className:"form-control",children:g.map((e,n)=>a("option",{value:e.title,children:e.title},n))})]}),t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"center",children:"Center"}),a("select",{name:"center",onChange:s,value:r.center,className:"form-control",children:b.map((e,n)=>a("option",{value:e.title,children:e.title},n))})]}),t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"remark",children:"remark"}),a(d,{control:i,id:"remark",name:"remark",render:({field:e})=>a(c,{...e,onChange:s,value:r.remark,options:{allowInput:!0},className:u("form-control",{"is-invalid":l!==null&&l.remark===null})})})]}),t("div",{className:"mb-1",children:[a(o,{className:"form-label",for:"status",children:"Status"}),t("select",{name:"status",onChange:s,value:r.status,className:"form-control",children:[a("option",{value:"Active",children:"Active"}),a("option",{value:"Inactive",children:"Inactive"})]})]}),t("div",{className:"d-flex",children:[a(N,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(N,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:I,children:"Reset"}),a(N,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{W as default};
