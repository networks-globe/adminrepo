import{G as R,aI as z,h as p,r as f,o as l,an as O,j as e,ao as B,af as P,ap as A,ah as _,a8 as s,aa as i,k as c,a1 as v,al as j}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as F,C as m}from"./index.esm.88676979.js";import{b as J}from"./App.13c64db0.js";import{g as T,u as U}from"./OnlineRegistrationActionCreators.d46eedb2.js";import{g as E}from"./CenterActionCreators.d9bf0dbf.js";import{g as V}from"./CourseActionCreators.1947fb33.js";const Q=()=>{let u=J(),C=R(),{_id:N}=z(),g=p(a=>a.CourseStateData),b=p(a=>a.CenterStateData),y=p(a=>a.OnlineRegistrationStateData),[n,h]=f.exports.useState({name:"",phone:"",email:"",course:"",center:"",city:"",country:"",zipcode:"",address:"",amount:"",transactionid:"",transactionstatus:"",status:"",remark:""});const[t,I]=f.exports.useState("");let{reset:$,handleSubmit:S,control:o}=F({defaultValues:n});const k=a=>{I(a),n.name&&(u(U({_id:N,name:n.name,phone:n.phone,email:n.email,address:n.address,zipcode:n.zipcode,city:n.city,country:n.country,amount:n.amount,transactionid:n.transactionid,transactionstatus:n.transactionstatus.value,course:n.course,center:n.center,remark:n.remark,status:n.status,updateByName:JSON.parse(localStorage.getItem("userData")).name,updateByRole:JSON.parse(localStorage.getItem("userData")).role,updateById:JSON.parse(localStorage.getItem("userData"))._id})),j(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Online Registration Record is Updated!!!"})})})),C("/apps/online-registration"))},x=()=>{h({name:"",phone:"",email:"",course:"",center:"",city:"",country:"",zipcode:"",address:"",amount:"",transactionid:"",transactionstatus:"",status:"",remark:""})};function r(a){let d=a.target.name,w=a.target.value;h(D=>({...D,[d]:w}))}return f.exports.useEffect(()=>{u(T());let a=y.find(d=>d._id===N);a&&h({...a}),u(E()),u(V())},[y.length,g.length,b.length]),l(O,{children:[e(B,{children:e(P,{tag:"h4",className:"text-center",children:"Update Online Registration Record"})}),e(A,{children:l(_,{onSubmit:S(k),children:[l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"name",children:"Name"}),e(m,{control:o,id:"name",name:"name",render:({field:a})=>e(i,{...a,onChange:r,value:n.name,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.name===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"phone",children:"Phone"}),e(m,{control:o,id:"phone",name:"phone",render:({field:a})=>e(i,{...a,onChange:r,value:n.phone,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.phone===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"email",children:"Email"}),e(m,{control:o,id:"email",name:"email",render:({field:a})=>e(i,{...a,onChange:r,value:n.email,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.email===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"address",children:"Address"}),e(m,{control:o,id:"address",name:"address",render:({field:a})=>e(i,{...a,type:"textarea",onChange:r,value:n.address,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.address===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"zipcode",children:"ZIP Code"}),e(m,{control:o,id:"zipcode",name:"zipcode",render:({field:a})=>e(i,{...a,onChange:r,value:n.zipcode,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.zipcode===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"city",children:"City"}),e(m,{control:o,id:"city",name:"city",render:({field:a})=>e(i,{...a,onChange:r,value:n.city,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.city===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"country",children:"Country"}),e(m,{control:o,id:"country",name:"country",render:({field:a})=>e(i,{...a,onChange:r,value:n.county,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.county===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"amount",children:"Amount"}),e(m,{control:o,id:"amount",name:"amount",render:({field:a})=>e(i,{...a,type:"number",onChange:r,value:n.amount,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.amount===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"transactionid",children:"Transaction ID"}),e(m,{control:o,id:"transactionid",name:"transactionid",render:({field:a})=>e(i,{...a,onChange:r,value:n.transactionid,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.transactionid===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"status",children:"Transaction Status"}),l("select",{name:"status",onChange:r,value:n.transactionstatus,className:"form-control",children:[e("option",{value:"Pending",children:"Pending"}),e("option",{value:"Done",children:"Done"})]})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"course",children:"Course"}),e("select",{name:"course",onChange:r,value:n.course,className:"form-control",children:g.map((a,d)=>e("option",{value:a.title,children:a.title},d))})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"center",children:"Center"}),e("select",{name:"center",onChange:r,value:n.center,className:"form-control",children:b.map((a,d)=>e("option",{value:a.title,children:a.title},d))})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"remark",children:"remark"}),e(m,{control:o,id:"remark",name:"remark",render:({field:a})=>e(i,{...a,onChange:r,value:n.remark,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.remark===null})})})]}),l("div",{className:"mb-1",children:[e(s,{className:"form-label",for:"status",children:"Status"}),l("select",{name:"status",onChange:r,value:n.status,className:"form-control",children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),l("div",{className:"d-flex",children:[e(v,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(v,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:x,children:"Reset"}),e(v,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{Q as default};
