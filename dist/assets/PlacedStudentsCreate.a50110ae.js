import{G as j,r as o,h as g,o as l,an as E,j as a,ao as J,af as A,ap as T,ah as _,a8 as t,aa as i,a1 as m,al as $}from"./index.7ed68957.js";import{S as p}from"./react-select.esm.67b469f7.js";import"./page-form-validation.61faf01b.js";import{u as G,C as c}from"./index.esm.88676979.js";import{b as H,s as u}from"./App.13c64db0.js";import{a as L}from"./PlacedStudentActionCreators.28cd91b3.js";import{g as V}from"./CenterActionCreators.d9bf0dbf.js";import{g as q}from"./CourseCategoryActionCreators.3c5324ef.js";import"./toConsumableArray.917c2683.js";let z=[{value:"Select a Status",label:"Select a Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],K={name:"",phone:"",email:"",course:"",center:"",ducatId:"",image:"",compnay:"",package:"",role:"",status:"",remark:""},le=()=>{let d=H(),f=j(),[b,S]=o.exports.useState([]),[y,C]=o.exports.useState([]),[I,k]=o.exports.useState(""),h=g(e=>e.CourseCategoryStateData),N=g(e=>e.CenterStateData),[M,x]=o.exports.useState(null),{reset:w,setError:O,handleSubmit:P,control:s,formState:{errors:n}}=G({defaultValues:K});function B(e){k(e.target.files[0])}let R=e=>{if(x(e),e.name){var r=new FormData;r.append("name",e.name),r.append("email",e.email),r.append("phone",e.phone),r.append("course",e.course.value),r.append("center",e.center.value),r.append("ducatId",e.ducatId),r.append("image",e.image),r.append("company",e.company),r.append("package",e.package),r.append("role",e.role),r.append("image",I),r.append("remark",e.remark),r.append("status",e.status.value),r.append("addByName",JSON.parse(localStorage.getItem("userData")).name),r.append("addById",JSON.parse(localStorage.getItem("userData"))._id),r.append("addByRole",JSON.parse(localStorage.getItem("userData")).role),d(L(r)),$(a("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:a("div",{className:"d-flex flex-column",children:a("h6",{className:"text-success",children:"Record is Created!!!"})})})),f("/placement/placed-students")}else for(let v in e)e[v]===""&&O(v,{type:"manual"})},F=()=>{w({name:"",phone:"",email:"",course:"",center:"",ducatId:"",image:"",compnay:"",package:"",role:"",status:"",remark:""})};return o.exports.useEffect(()=>{d(V()),d(q()),S(N.map(e=>({value:e.title,label:e.title,name:"center"}))),C(h.map(e=>({value:e.name,label:e.name,name:"course"})))},[h.length,N.length]),l(E,{children:[a(J,{children:a(A,{tag:"h4",className:"text-center",children:"Create a New Record for Placed Student"})}),a(T,{children:l(_,{onSubmit:P(R),children:[l("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"name",children:"Name"}),a(c,{control:s,id:"name",name:"name",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.name&&!0})})]}),l("div",{className:"row mb-1",children:[l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"phone",children:"Phone"}),a(c,{control:s,id:"phone",name:"phone",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.phone&&!0})})]}),l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"email",children:"Email"}),a(c,{control:s,id:"email",name:"email",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.email&&!0})})]})]}),l("div",{className:"row mb-1",children:[l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"course",children:"Course"}),a(c,{id:"course",control:s,name:"course",render:({field:e})=>a(p,{...e,isClearable:!0,options:y,classNamePrefix:"select",theme:u,invalid:n.course&&!0})})]}),l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"center",children:"Center"}),a(c,{id:"center",control:s,name:"center",render:({field:e})=>a(p,{...e,isClearable:!0,options:b,classNamePrefix:"select",theme:u,invalid:n.center&&!0})})]})]}),l("div",{className:"row mb-1",children:[l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"ducatId",children:"Ducat ID"}),a(c,{control:s,id:"ducatId",name:"ducatId",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.ducatId&&!0})})]}),l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"image",children:"Image"}),a("input",{type:"file",name:"image",onChange:B,className:"form-control"})]})]}),l("div",{className:"row mb-1",children:[l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"company",children:"Compnay"}),a(c,{control:s,id:"company",name:"company",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.company&&!0})})]}),l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"package",children:"Package"}),a(c,{control:s,id:"package",name:"package",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.package&&!0})})]})]}),l("div",{className:"row mb-1",children:[l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"role",children:"Role"}),a(c,{control:s,id:"role",name:"role",render:({field:e})=>a(i,{...e,options:{allowInput:!0},invalid:n.role&&!0})})]}),l("div",{className:"col-md-6",children:[a(t,{className:"form-label",for:"status",children:"Status"}),a(c,{id:"status",control:s,name:"status",render:({field:e})=>a(p,{...e,isClearable:!0,options:z,classNamePrefix:"select",theme:u,invalid:n.status&&!0})})]})]}),l("div",{className:"mb-1",children:[a(t,{className:"form-label",for:"remark",children:"remark"}),a(c,{control:s,id:"remark",name:"remark",render:({field:e})=>a(i,{...e,type:"textarea",options:{allowInput:!0},invalid:n.remark&&!0})})]}),l("div",{className:"d-flex",children:[a(m,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),a(m,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:F,children:"Reset"}),a(m,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})};export{le as default};
