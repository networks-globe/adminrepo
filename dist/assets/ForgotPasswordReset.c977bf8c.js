import{r as c,G as v,j as e,o as s,ac as b,L as n,ad as r,af as y,ag as C,ah as k,a8 as d,aa as m,a1 as I,a6 as P,cg as p}from"./index.7ed68957.js";import{u as S,l as D,m as F}from"./App.13c64db0.js";import{i as L,a as j}from"./forgot-password-v2-dark.784987d6.js";/* empty css                            */const z=()=>{var[l,h]=c.exports.useState(""),[g,u]=c.exports.useState(""),f=v();const{skin:w}=S(),x=w==="dark"?L:j;function o(a){var{name:t,value:i}=a.target;t==="password"?h(i):u(i)}async function N(){if(l===g){var a=await fetch("/api/user/reset-password",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({password:l,otp:localStorage.getItem("otp"),email:localStorage.getItem("resetuser")})}),t=await a.json();t.result==="Fail"?p(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:t.message})})})):(localStorage.removeItem("resetuser"),localStorage.removeItem("otp"),f("/login"))}else p(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Password and Confirm Password Doesn't Matched!!!!"})})}))}return D()?e(P,{to:"/"}):e("div",{className:"auth-wrapper auth-cover",children:s(b,{className:"auth-inner m-0",children:[e(n,{className:"brand-logo",to:"/",onClick:a=>a.preventDefault(),children:e("h2",{className:"brand-text text-primary ms-1",children:"Ducat"})}),e(r,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:e("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:e("img",{className:"img-fluid",src:x,alt:"Login Cover"})})}),e(r,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:s(r,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[e(y,{tag:"h2",className:"fw-bold mb-1",children:"Forgot Password? \u{1F512}"}),e(C,{className:"mb-2",children:"Enter New Password"}),s(k,{className:"auth-forgot-password-form mt-2",onSubmit:a=>a.preventDefault(),children:[s("div",{className:"mb-1",children:[e(d,{className:"form-label",for:"password",children:"Password"}),e(m,{type:"password",id:"password",onChange:o,name:"password",placeholder:"************",autoFocus:!0})]}),s("div",{className:"mb-1",children:[e(d,{className:"form-label",for:"password",children:"Confirm Password"}),e(m,{type:"password",id:"cpassword",onChange:o,name:"cpassword",placeholder:"************",autoFocus:!0})]}),e(I,{color:"primary",onClick:N,block:!0,children:"Reset Password"})]}),e("p",{className:"text-center mt-2",children:s(n,{to:"/login",children:[e(F,{className:"rotate-rtl me-25",size:14}),e("span",{className:"align-middle",children:"Back to login"})]})})]})})]})})};export{z as default};
