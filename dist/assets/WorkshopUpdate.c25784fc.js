import{G as $,aI as G,r as p,h as j,j as e,o as s,an as K,ao as P,af as q,ap as z,ah as Q,a8 as o,aa as d,k as c,ad as F,a1 as g,al as X}from"./index.7ed68957.js";import"./page-form-validation.61faf01b.js";import{u as Y,C as m}from"./index.esm.88676979.js";import{h as Z,D as u,r as T,c as O}from"./form-quill-editor.f7579e23.js";import{b as ee}from"./App.13c64db0.js";import{g as ae,u as te}from"./WorkshopActionCreators.e96573d2.js";import{g as re}from"./CourseCategoryActionCreators.3c5324ef.js";import"./toConsumableArray.917c2683.js";const ue=()=>{var f=ee(),B=$(),{_id:N}=G(),[r,b]=p.exports.useState({title:"",blogcategory:"",shortdescription:"",longdescription:"",status:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:"",sortOrder:0,remark:""}),[A,E]=p.exports.useState(""),[W,M]=p.exports.useState("");let H=Z(""),J=u.ContentState.createFromBlockArray(H.contentBlocks),h=u.EditorState.createWithContent(J),[C,y]=p.exports.useState(h),[S,w]=p.exports.useState(h);var k=j(a=>a.WorkshopStateData),I=j(a=>a.CourseCategoryStateData);const[t,L]=p.exports.useState("");let{reset:R,handleSubmit:U,control:n}=Y({defaultValues:r});const _=a=>{if(L(a),r.title){var l=new FormData;l.append("title",r.title),l.append("blogcategory",r.blogcategory),l.append("shortdescription",O(C.getCurrentContent())),l.append("longdescription",O(S.getCurrentContent())),l.append("sortOrder",r.sortOrder),l.append("image",A),l.append("featureimage",W),l.append("seourl",r.seourl),l.append("metatitle",r.metatitle),l.append("metakeywords",r.metakeywords),l.append("metadescription",r.metadescription),l.append("metasection",r.metasection),l.append("headcss",r.headcss),l.append("footercss",r.footercss),l.append("headjs",r.headjs),l.append("footerjs",r.footerjs),l.append("remark",r.remark),l.append("status",r.status),l.append("updateByName",JSON.parse(localStorage.getItem("userData")).name),l.append("updateById",JSON.parse(localStorage.getItem("userData"))._id),l.append("updateByRole",JSON.parse(localStorage.getItem("userData")).role),f(te({data:l,_id:N})),X(e("div",{className:"d-flex",style:{width:"200px",height:"50px",display:"grid",placeItems:"center"},children:e("div",{className:"d-flex flex-column",children:e("h6",{className:"text-success",children:"Blog is Updated!!!"})})})),B("/apps/workshop")}};function x(a){var l=a.target.name,v=a.target.files[0];l==="image"?E(v):M(v)}const D=()=>{R({title:"",blogcategory:"",shortdescription:"",longdescription:"",status:"",seourl:"",metatitle:"",metakeywords:"",metadescription:"",metasection:"",headcss:"",footercss:"",headjs:"",footerjs:"",sortOrder:0,remark:""})};function i(a){var{name:l,value:v}=a.target;b(V=>({...V,[l]:v}))}return p.exports.useEffect(()=>{f(ae()),f(re());var a=k.find(l=>l._id===N);a&&(b({...a}),h=u.EditorState.createWithContent(u.ContentState.createFromBlockArray(u.convertFromHTML(a.shortdescription))),y(h),h=u.EditorState.createWithContent(u.ContentState.createFromBlockArray(u.convertFromHTML(a.longdescription))),w(h))},[k.length,I.length]),e("div",{className:"container",children:s(K,{children:[e(P,{children:e(q,{tag:"h4",className:"text-center",children:"Update Workshop"})}),e(z,{children:s(Q,{onSubmit:U(_),children:[s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"title",children:"Title"}),e(m,{control:n,id:"title",name:"title",render:({field:a})=>e(d,{...a,onChange:i,value:r.title,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.title===null})})})]}),s("div",{className:"row mb-1",children:[s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"startDate",children:"Start Date"}),e(m,{control:n,id:"startDate",name:"startDate",render:({field:a})=>e(d,{...a,type:"date",onChange:i,value:r.startDate,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.startDate===null})})})]}),s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"startTime",children:"Start Time"}),e(m,{control:n,id:"startTime",name:"startTime",render:({field:a})=>e(d,{...a,onChange:i,value:r.startTime,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.startTime===null})})})]})]}),s("div",{className:"row mb-1",children:[s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"status",children:"Course"}),e("select",{name:"technology",onChange:i,value:r.technology,className:"form-control",children:I.map((a,l)=>e("option",{value:a.name,children:a.name},l))})]}),s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"eventAddresss",children:"Event Address"}),e(m,{control:n,id:"eventAddress",name:"eventAddress",render:({field:a})=>e(d,{...a,onChange:i,value:r.eventAddress,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.eventAddress===null})})})]})]}),s("div",{className:"row mb-1",children:[s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"image",children:"Image"}),e(m,{control:n,id:"image",name:"image",render:({field:a})=>e(d,{...a,type:"file",onChange:x,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.image===null})})})]}),s("div",{className:"col-md-6",children:[e(o,{className:"form-label",for:"featureimage",children:"Feature Image"}),e(m,{control:n,id:"featureimage",name:"featureimage",render:({field:a})=>e(d,{...a,type:"file",onChange:x,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.featureimage===null})})})]})]}),e("div",{className:"mb-1",children:s(F,{sm:"12",className:"mb-2",children:[e(o,{className:"form-label",children:"Short Description"}),e(T.exports.Editor,{editorState:C,onEditorStateChange:a=>y(a)})]})}),e("div",{className:"mb-1",children:s(F,{sm:"12",className:"mb-2",children:[e(o,{className:"form-label",children:"Long Description"}),e(T.exports.Editor,{editorState:S,onEditorStateChange:a=>w(a)})]})}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"seourl",children:"SEO Url"}),e(m,{control:n,id:"seourl",name:"seourl",render:({field:a})=>e(d,{...a,onChange:i,value:r.seourl,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.seourl===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metatitle",children:"Meta Title"}),e(m,{control:n,id:"metatitle",name:"metatitle",render:({field:a})=>e(d,{...a,onChange:i,value:r.metatitle,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.metatitle===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metakeywords",children:"Meta Keywords"}),e(m,{control:n,id:"metakeywords",name:"metakeywords",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.metakeywords,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.metakeywords===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metadescription",children:"Meta Description"}),e(m,{control:n,id:"metadescription",name:"metadescription",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.metadescription,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.metadescription===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"metasection",children:"Meta Section"}),e(m,{control:n,id:"metasection",name:"metasection",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.metasection,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.metasection===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"headcss",children:"Head CSS"}),e(m,{control:n,id:"headcss",name:"headcss",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.headcss,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.headcss===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"headjs",children:"Head JS"}),e(m,{control:n,id:"headjs",name:"headjs",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.headjs,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.headjs===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"footercss",children:"Footer CSS"}),e(m,{control:n,id:"footercss",name:"footercss",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.footercss,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.footercss===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"footerjs",children:"Footer Js"}),e(m,{control:n,id:"footerjs",name:"footerjs",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.footerjs,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.footerjs===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"title",children:"Sort Order"}),e(m,{control:n,id:"sortOrder",name:"sortOrder",render:({field:a})=>e(d,{...a,onChange:i,value:r.sortOrder|0,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.sortOrder===null})})})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"status",children:"Select Status"}),s("select",{name:"status",onChange:i,value:r.status,className:"form-control",children:[e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]})]}),s("div",{className:"mb-1",children:[e(o,{className:"form-label",for:"remark",children:"Remark"}),e(m,{control:n,id:"remark",name:"remark",render:({field:a})=>e(d,{...a,type:"textarea",onChange:i,value:r.remark,options:{allowInput:!0},className:c("form-control",{"is-invalid":t!==null&&t.remark===null})})})]}),s("div",{className:"d-flex",children:[e(g,{className:"me-1",color:"primary",type:"submit",children:"Submit"}),e(g,{className:"me-1",outline:!0,color:"danger",type:"reset",onClick:D,children:"Reset"}),e(g,{outline:!0,color:"secondary",type:"reset",onClick:()=>window.history.back(),children:"Back"})]})]})})]})})};export{ue as default};
